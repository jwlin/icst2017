<!DOCTYPE html>
<html lang="en-US" xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="google-site-verification" content="TX6qUd7Dl2O27Vbd2Bn12tb8-2Ar7u_gkEhpoNt2UGg" /> 
<meta name="msvalidate.01" content="BAF4474277CCA4E90127099BFDF970B1" /> 
<meta name="msvalidate.01" content="45186CA714C3E0FAC732DE2DF44B9EDD" /> 
<meta name="p:domain_verify" content="2c015e806cd75d1e51dc70a9737f0ed7" /> 
<meta name='yandex-verification' content='77e29eaabd4967aa' /> 

<link rel='stylesheet' type='text/css' href='/wro/7441fc33d2130f1d3a0274971039b08e/HEAD-CHECKOUT-worldmarket.css?minimize=true'><link rel='stylesheet' type='text/css' href='/wro/f7aae14af6895e87ac35cd25ed85f114/SITE-worldmarket.css?minimize=true'><link rel='stylesheet' type='text/css' href='/text/content/global/overrides.css'><link href="https://plus.google.com/u/0/b/116195269616123281160" rel="publisher"/>
<script>
   var limitSkuQtyExceeded= "Limit {0} per customer. Please adjust your quantity.";
   var limitSkuQtyMap = {};
   var rtiTrackingData = new Map();
</script><title>Checkout | World Market</title>
    <meta name="description" content="Shop World Market for top quality furniture, affordable home decor, imported rugs, curtains, unique gifts, food, wine and more - at the best values anywhere online." />
    <meta name="keywords" content="furniture, home decor, food and wine, gifts, unique gifts, global food, entertaining, dinnerware, outdoor patio furniture, wall art, curtains, rugs, desks, chairs, candles, lamps" />
    <link rel='canonical' href='https://www.worldmarket.com'><script type="text/javascript" src="//nexus.ensighten.com/costplusworldmarket/prod-cpwm-162/Bootstrap.js"></script>
<meta name="twitter:card" content="summary" /> 
	<meta name="twitter:site" content="@worldmarket" /> 
		<meta name="twitter:title" content='Checkout'/>
		  <meta name="twitter:description" content="Shop World Market for top quality furniture, affordable home decor, imported rugs, curtains, unique gifts, food, wine and more - at the best values anywhere online." />
			<meta name="twitter:image" content="https://www.worldmarket.com" />
			<meta property="og:image" content="https://www.worldmarket.com"/>
			<meta property="og:image:width" content="237" /> 
			<meta property="og:image:height" content="237" />
		<!-- Start Baynote code -->
	
	        <script type="text/javascript" src="/includes/MarketLive/observertag/baynote-lib.js"></script>
	      
	 <!-- END Baynote code -->
 <script src='/wro/26c9dec9fb730eedfd924b89d11316eb/HEAD.js?minimize=true'></script><script>
	var optimizelyEnabled = true; // use ?optimizely_disable=true
	window.optimizely = window.optimizely || []; 
	window.optimizely.push({type: "holdEvents"}); 
	window.addEventListener("load", function() { 
		window.optimizely.push({type: "sendEvents"}); 
	});
	</script>
	<script src="//cdn.optimizely.com/js/66336030.js"></script>

<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><link rel="shortcut icon" href="/images/worldmarket/en_us/favicon.ico" type="image/vnd.microsoft.icon">
	</head>
<body class="ml-layout-section-checkout">
<div id="ml-body-container">

<a name="top"></a>
<div id="ml-modal-placement"></div>
<div class="modal fade signin-Pop newModal dropDownPanel" id="loginHere" role="region" aria-label="modal dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body">
			</div>
		</div>
	</div>
</div>
<script>
jQuery(document).ready(function(){
	jQuery("#loginHere .modal-body").append(jQuery("#wm-registration"));
	jQuery("#loginSection").click(function(event){event.stopPropagation();});
});
</script><header role="banner" >
    <nav role="navigation">
        <span class="ml-icon-lib ml-icon-home ml-icon-pre-load-fix" aria-hidden="true"></span>

<div class="ml-mini-header-wrapper">
    <div class="container">
        <div class="ml-mini-header">
            <div class="ml-mini-header-content-wrapper">
                <div class="ml-mini-header-content">
                    <div class="ml-header-link ml-header-phone">
                        <div class="ml-header-link-item">
                            <span>800.780.1600</span>
                            <span class="ml-icon-lib ml-icon-phone"></span>
                        </div>
                    </div>

                    <div class="ml-header-anc-logo">
                        <a href="/home.do"><span class="ml-dynamic-data" data-type="image" data-alt="" data-mq-default="/images/worldmarket/en_us/global/globalnav/logo01.png" data-mq-xs="/images/worldmarket/en_us/global/globalnav/logo_xs.png" data-mq-md="/images/worldmarket/en_us/global/globalnav/logo01.png"><noscript><img src="/images/worldmarket/en_us/global/globalnav/logo01.png" alt=""></noscript></span></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div></nav>
    </header>

<main role="main">
<div id="gpsKicker">




































<div class="ml-common-kickers-wrapper">
	<div class="ml-kickers-row">
	
		  <div id ="display-kicker01-1" class="ml-slot-item ml-slot-1 display-kicker01-1">
<script type="text/javascript">
	jQuery(document).ready(function() {
        var isOutdoor = window.location.href.indexOf("/category/outdoor.do");
		if(isOutdoor != -1) {
			jQuery("#promoslot-gps").show();
		}
	});
</script>
<style type="text/css">
    #promoslot-gps {
        display: none;
    }
    .promoslot.gps {
        padding: 15px 0 0 0;
    }
	.promoslot.gps .banner { 
		font-family: "SofiaProBold",Arial,Rockwell,Georgia,"Times New Roman";
		color: #fff;
		text-align: center;
		vertical-align: middle;
		width: 100%;
	}
	.promoslot.gps a { 
		font-family: "SofiaProBold",Arial,Rockwell,Georgia,"Times New Roman";
		color: #fff;
        font-size: 16px;
        height: 40px;
        line-height: 40px;
        letter-spacing: 0.65px;
	}
	.promoslot.gps .banner.multi { 
        display: none;
		margin-top: 15px;
	}
	.promoslot.gps .banner.xsmall { 
		margin-bottom: 5px;
		background-color: #f2101f;
	}
	.promoslot.gps .banner.large { 
        display: block;
		height: 40px;
		line-height: 40px;
		background-color: #f2101f;
	}
	.promoslot.gps .separator { 
		margin: 0 7px;
		font-weight: bold;
	}
    .infinite-carousel .list { 
        width: 100%; 
        height: 40px; 
        overflow: visible; 
    }
    .infinite-carousel .viewport { 
        width: 100%; 
        height: 40px; 
        overflow: hidden; 
    }
/* XS */
	@media (max-width: 640px) {
		.promoslot.gps a {
			font-size: 10px;
		}
	}
/* S */
	@media (min-width: 641px) and (max-width: 768px) {
		.promoslot.gps a {
			font-size: 16px;
		}
	}
/* M */
	@media (min-width: 769px) and (max-width: 992px) {
		.promoslot.gps a {
			font-size: 16px;
		}
	}
/* XS, S, M */
	@media (max-width: 992px) {
		.promoslot.gps .banner.xsmall {
			display: block;
		}
		.promoslot.gps .banner.large {
			display: none;
		}
	}
    .bada { background-color: #e47204; }
    .next { height: 0px; }
</style>
<div id="promoslot-gps" class="promoslot gps">
    <div class="infinite-carousel">
        <div class="viewport">
            <div class="list">
                <div class="banner bada">
                    <a href="/content/outdoor-guide.do?ab=gps:06:summer-guide" title="" class="outdoor-furniture">
                        Get Inspired with Our New Summer Guide
                    </a>
                </div>
            </div>
        </div>
        <div id='next' class='next'>&nbsp;</div>
    </div>
</div>
</div>
	  
	</div>
</div>
</div>
    <div class="">
        <div class="container">
            <div class="ml-body-wrapper">
                        <ol class="breadcrumb" role="region" aria-label="breadcrumbs">
    <li>
                    <a href="/home.do">
                                <span class="ml-icon-lib ml-icon-home"></span>
                                Home</a>
                        </li>
            <li class="active">checkout<script type='text/javascript'>
					var ensTmplname="checkout";
					ensTmplname=MarketLive.Reporting.dlGlobal.ensHtmlEntities(ensTmplname);
					  MarketLive.Reporting.dlGlobal.prodCats.push(ensTmplname);
				</script></li>
	        </ol>
<script type='text/javascript'>
var ensTmpCN='';
if(ensTmpCN.length > 2){
	ensTmpCN=ensTmpCN.substring(3);
}
MarketLive.Reporting.dlGlobal.ensCatName=ensTmpCN;
</script>






































<div class="ml-common-kickers-wrapper">
    <div class="ml-kickers-row">
        
              <!-- kickers --> 
              
                  
                      
                      
                      
                  
                  
              
          
    </div>
</div>
<div id="mlAccordionCheckoutApp" class="ml-accordion-checkout" data-ml-checkout-service-url="/checkout/accordion.do">
    <div ng-controller="mlAccordionCheckoutCtrl">
        <div class="ml-accordion-loading"  ng-class="{'ml-accordion-loaded':isInitialized()}">
				<div ng-show ="!isStepCompleted(4)" class="">
					<div ng-switch="isGuest()">
						<h1>
							<span ng-switch-when="true">
								Guest Checkout</span><br>
							<span ng-switch-default>
								Welcome,&nbsp; {{model.user}}
							</span>
						</h1>
					</div>
				</div>
				<div ng-show ="isStepCompleted(4)" class="ml-rev-signin-caption" style="text-align:center;">
					<span><h1>Review & Place Order</h1></span>
					<span><b>Please review all of the information that you provided for accuracy. Your order will not be placed until you click the 'Place Order' button.</b></span><br>
				</div>

              <div id="ml-wm-mobile-login">
				   <div ng-if="isGuest() && isStepCollapsed(5)">
						<h4>Have an Account?</h4>
						<p>Sign in for a faster checkout experience. Or, you can continue as guest.</p>
				  
						<script type='text/javascript'>
							function checkoutLogin(){
								var e = jQuery('#ml-wm-desktop-login');
								e.addClass('ml-login-dialog').show();
								jQuery('.custom-backdrop').show().fadeTo(1, 0.7);
								var topPosition = ($(window).height()-e.height())/2;
								e.css('top', topPosition);

								jQuery('body').addClass('stop-scrolling')
							}
							jQuery('#ml-wm-checkout-signin').on('click', '.customClose, .custom-backdrop', function (e) {
								e.preventDefault();
								jQuery(".ml-login-dialog, .custom-backdrop").fadeOut(1, function() {
								    jQuery(".custom-backdrop").hide();
								});
								jQuery('body').removeClass('stop-scrolling')
							})
							$(window).on('load resize', function () {
								var e = jQuery('#ml-wm-desktop-login');
								var topPosition = ($(window).height()-e.height())/2;
								e.css('top', topPosition);
							});
							
						</script><button id="checkOutSignInBtn" onclick="checkoutLogin();">Sign In</button>
					</div>
				</div>
			  <div id="ml-wm-checkout-container">
				  <div class="ml-step-container">
				  			
				  			<div class="ml-wm-checkout-login-message" ng-if="isGuest() && isStepCollapsed(5)">
							<h4>Have an Account?</h4>
								<p>Sign in for a faster checkout experience. Or, you can continue as guest.</p>
							</div>
							<div id="ml-wm-checkout-signin">
									<div class="custom-backdrop" style="display:none"></div>
									
									<div id="ml-wm-desktop-login">	
										<div style="display:none;" id="checkoutLoginError" class="alert alert-warning alert-dismissable"></div>
<div ng-show ="!isStepCompleted(4)" ng-switch="isGuest()">
<div ng-switch-when="true" class="ml-checkout-login">
		<form id="loginForm" action="/accordion/login.do?method=submit" method="post" onsubmit="return false"><div class="visible-xs ml-checkout-sign-message">
		   		<h3>Sign In</h3> 	
		   		<a href="javascript:void(0)" class="js-modal-close customClose">X</a>
		   </div>
		   <div class="ml-wm-form-container">
			   <div class="ml-wm-form-row">
				<div class="ml-wm-form-element-wraper">
					<div class="ml-wm-form-element required">
						<input type="text" name="loginEmail" maxlength="100" value="" class="form-control" id="loginEmail">
						<label for="loginEmail">Email Address</label>
					</div>
				</div>
				<div class="ml-wm-form-element-wraper">
					<div class="ml-wm-form-element required">
						<script type="text/javascript">
							function showPwd(){
								var e = jQuery('#loginPassword');
								e.attr("type")==="password"?e.attr("type","text"):e.attr("type","password");
							}
						</script>
						<div class="ml-checkout-password-show" onclick="showPwd();"></div>
						<input type="password" name="loginPassword" maxlength="50" value="" class="form-control" id="loginPassword">
						<label for="loginPassword">Password</label>
					</div>
				</div>
			</div>
		</div>

		 <div class="ml-checkout-login-buttons">

			<input id="btnContinueAccountSetupFormLogin" name="ContinueAccountSetupForm" class="ml-primary-button" type="submit" value='SIGN IN' ng-click="loginSubmitStep($event, 6, 'Oops! There appears to be a problem with our systems. Weâ€™re working on it. Please try again later.','Email/password do not match.','We\' re having trouble accessing your account and have sent you an email with more information. Please continue your checkout below.');">
			<a class="upper" href="#" onclick="MarketLive.LiteRegistration.forgotPassword();">Forgot Password?</a>
		</div>
			
		</form></div>
<div ng-switch-default>
			</div>
</div></div>
								</div>
							<ol class="ml-accordion-steps" ng-show ="isStepCollapsed(5)" >
    <li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(0),
    'ml-accordion-step-collapsed':isStepCollapsed(0),
    'ml-accordion-step-no-uc':!isUserCollapsible(0),
    'ml-accordion-step-hidden':isStepHidden(0)}" ng-show ="true">
    
	<div ng-show ="isStepCollapsed(5)">
		<div ng-if="model.payment.visaCheckoutOrder">
        <h2>
            <span>
                <span>{{getStepHeading(0)}}</span>
            </span>
        </h2>
    </div>
    <div ng-show="!(model.payment.visaCheckoutOrder || model.payment.borderfreePaypalExpressCheckout)">
        <h2 ng-click="toggleStepCollapse(0)">
            <span>
                <span>{{getStepHeading(0)}}</span>
            </span>
            <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(0) && isStepCollapsed(0))" tabindex="0">Edit</span>
        </h2>
    </div>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[0].collapsed" collapse="isStepCollapsed(0)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(0)">
    <div ng-repeat="alert in getStepAlertData(0)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<div class="ml-shipping-container">
	<div id="shippingError" style="display:none" class="alert alert-warning alert-dismissable"></div>
    <form id="addressForm" action="/accordioncheckout.do?method=submitShipping" method="post"><div ng-switch on="model.shipping.shipTo.selectedOption">
			<div ng-if="!model.shipping.visaCheckoutOrder">
				<div ng-switch-when="SHIPTO_MULTIPLE">
					<div class="ml-shippable-items-header">
    <span>Products</span>
    <a href="javascript:void(0)" ng-click="showNewAddressForm($event,'0','false','')" data-target="#addressBookModal">Enter a New Address</a>
	
</div>

<div class="ml-shippable-items">
    <div class="ml-shippable-item" ng-repeat="item in model.shipping.shippableItems" ng-class-odd="'ml-shippable-items-odd'">
        <div class="ml-shippable-item-thumb-img-col">
            <img class="ml-responsive-thumbnail" ng-src="{{item.basketItem.image}}">
        </div>

        <div class="ml-shippable-item-thumb-txt-col">
            <div class="item-desc">
                <div class="item-name">{{item.basketItem.description}}</div>
                <div class="item-code">{{item.basketItem.code.label}} {{item.basketItem.code.value}}</div>
            </div>

            <div class="item-options">
                <div ng-repeat="skuOption in item.basketItem.skuOptions">
                    <span>{{skuOption.label}}:</span>
                    <span>{{skuOption.value}}</span>
                </div>
            </div>

            <div class="item-qty">
                <span class="item-label">{{item.basketItem.qty.label}}</span>
                <span class="item-value">{{item.basketItem.qty.value}}</span>
            </div>

            <div class="ml-item-price-wrapper">
                <span>Total Price:</span>
                <span ml-item-price price="item.basketItem.price"></span>
            </div>

            <div class="ml-product-personalization" ng-show="item.basketItem.personalizations">
                <div class="ml-product-personalization-header">Personalization:</div>
                <div>
                    <div class="ml-product-personalization-link" ng-repeat="personalization in item.basketItem.personalizations">{{personalization.label}}:{{personalization.value}}</div>
                </div>
            </div>

			<div class="ml-shippable-item-select-col" style="width:220px">
				<span>{{item.attributeMap['shipMethodName']}}</span><br/>
				<span>{{item.attributeMap['shipArrivalDate']}}</span><br/>
				<span>Delivery Surcharge:{{item.attributeMap['deliverySurcharge']}}</span>
			</div>
        </div>

        <div class="ml-shippable-item-select-col">
            <div class="ml-product-kit-items" ng-show="item.basketItem.kitItems">
                <div>
                    <div class="ml-product-kit-item" ng-repeat="kit in item.basketItem.kitItems">{{kit.item}}</div>
                </div>
            </div>

            <input type="hidden" name="{{item.path}}" ng-model="item.selectedAddress" ml-sync-hidden/>
            <select class="form-control"
                    ng-model="item.selectedAddress"
                    ng-options="address.value as address.label for address in model.shipping.addresses.options">
            </select>
        </div>
		
    </div>
</div></div>
			</div>
			<div ng-switch-default>
				<div>
	<div ng-if="model.shipping.visaCheckoutOrder">
		<div class="ml-delivery-contact">
			<div ng-repeat="detail in model.shipping.shipments[0].contact.details track by $index">{{detail}}</div>
		</div>
	</div>
	<div ng-if="!model.shipping.visaCheckoutOrder && !isGuest()">
		<div class="ml-shipto-addresses ml-shipping-subsection ng-hide" ng-show="showAdditionalAddresses() && model.shipping.addresses.options.length > 0">
		 	<div id="addressbooklist" class="form-group col-md-12">
					<div class="pagination-content">
					<div ng-repeat="address in model.shipping.addresses.options track by $index" class="ml-shipto-address-block col-md-6">
						<div>
							<div class="features" ng-class="{'inValidAddress':!address.valid}" ng-bind-html='trustAsHtmlString(address.label)'></div>
								<div class="ml-label-bottom" ng-if="address.valid">
								<label>
									<input type="radio" name="selectedContact" value="{{address.value}}" ng-model="model.shipping.addresses.selectedOption" ng-click="hideAddNewShippingAddress()">
									<div><i class="ml-icon-lib"></i><span>Use This Address</span></div>
								</label>
							</div>
							<div class="ml-label-bottom" ng-if="!address.valid">
								<label>
									<div class="allowEdit"><span style="cursor:pointer" ng-click="showEditContact($event, 'editAddressForm', address.value,'true')">Complete this address and Use</span></div>
								</label>
							</div>	
						</div>
					</div>
					<div class="clearfix"></div>
				</div>
				</div>
			<div class="ml-shipto-address-pagination col-md-12" addresses="{{model.shipping.addresses.options.length}}" ng-show="model.shipping.addresses.attributeMap['noOfPages'] > 1"> <span class="ml-icon-lib pagination-left" ng-click="prevShippingAddressPage()"></span> {{shippingAddressCurrentPage}} of {{model.shipping.addresses.attributeMap['noOfPages']}} <span class="ml-icon-lib pagination-right" ng-click="nextShippingAddressPage()"></span> </div>


			<div ng-show="!isGuest()" class="col-md-12">
				<label for="addNewAddress" class="ml-new-address" >
					<input type="radio" name="selectedContact" value="-1" ng-hide="true" ng-model="model.shipping.addresses.selectedOption">
					<a href="javascript:void(0);" id="addShippingAddressLink" ng-click="setShowAddNewShippingAddress()" ng-show ="!isEmpty(model.shipping.addresses.options)">Enter a New Address&nbsp;<span class="glyphicon ml-icon ml-icon-plus"></span></a>
					
				</label>
			</div>
		</div>
	</div>

	<div class="ml-checkout-billing" ng-show="isGuest() || showNewShippingAddress()">
		<input type="hidden" name="addNewAddress" ng-value="isGuest() || addNewShippingAddress"/>
		<div class="ml-wm-form-container" ng-init="initShippingStateAndZip('','','Your State selection does not match with your Zip/Postal Code selection.');">

<input type="hidden" id="isAddressChanged" name="isAddressChanged" value="false" />

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required ">
			<input id="firstName" name="firstName" aria-required="true" class="form-control" type="text" value="" size="20" maxlength="40"/><label for="firstName">
				First Name</label>
		</div>
	</div>
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required ">
			<input id="lastName" name="lastName" aria-required="true" class="form-control" type="text" value="" size="17" maxlength="40"/><label for="lastName">
				Last Name</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required ">
				<input id="streetAddress" name="streetAddress" ng-blur="filterShippingMethods(&#39;Your State selection does not match with your Zip/Postal Code selection.&#39;);" aria-required="true" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="streetAddress">
				Address Line 1</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element ">
				<input id="streetAddressOptional" name="streetAddressOptional" ng-blur="filterShippingMethods(&#39;Your State selection does not match with your Zip/Postal Code selection.&#39;);" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><span aria-describedby="streetAddressOptional">
			<label for="streetAddressOptional">
				Address Line 2 (Apt #, Floor, Suite)</label>
			</span>
		</div>
	</div>
</div>

<div class="ml-wm-form-row hidden">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element">
			<label for="postOfficeBox1"><input id="postOfficeBox1" name="postOfficeBox" type="checkbox" value="true"/><input type="hidden" name="_postOfficeBox" value="on"/><span class="postOfficeBoxLabel">This is a PO Box</span></label>
		</div>
	</div>
</div>
<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required "">
				<input id="city" name="city" aria-required="true" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="city">
				City</label>
		</div>
	</div>

<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required dropdown-arrow ">
			<div ng-show="showBorderFreeRegion(false,false,'US','#addressForm #region')" id="boderFreeregionTextState" >
					<input id="region" name="region" aria-required="true" class="form-control" type="text" value="" size="35" maxlength="50"/><label for="region">
					Region</label>
			</div>
			<div ng-show="showBorderFreeStateMenu(false,false,'US','#addressForm #state','#addressForm #country')" id="boderFreeregionMenuState" >
			<select id="state" name="state" ng-model="selectedShippingState" ng-change="filterShippingMethods(&#39;Your State selection does not match with your Zip/Postal Code selection.&#39;);" aria-required="true" class="form-control" onchange="MarketLive.Base.countrySet(this);"><option value="">&nbsp;</option>
						<option value="US/AL">AL-Alabama</option><option value="US/AK">AK-Alaska</option><option value="US/AZ">AZ-Arizona</option><option value="US/AR">AR-Arkansas</option><option value="US/CA">CA-California</option><option value="US/CO">CO-Colorado</option><option value="US/CT">CT-Connecticut</option><option value="US/DE">DE-Delaware</option><option value="US/DC">DC-District of Columbia</option><option value="US/FL">FL-Florida</option><option value="US/GA">GA-Georgia</option><option value="US/HI">HI-Hawaii</option><option value="US/ID">ID-Idaho</option><option value="US/IL">IL-Illinois</option><option value="US/IN">IN-Indiana</option><option value="US/IA">IA-Iowa</option><option value="US/KS">KS-Kansas</option><option value="US/KY">KY-Kentucky</option><option value="US/LA">LA-Louisiana</option><option value="US/ME">ME-Maine</option><option value="US/MD">MD-Maryland</option><option value="US/MA">MA-Massachusetts</option><option value="US/MI">MI-Michigan</option><option value="US/MN">MN-Minnesota</option><option value="US/MS">MS-Mississippi</option><option value="US/MO">MO-Missouri</option><option value="US/MT">MT-Montana</option><option value="US/NE">NE-Nebraska</option><option value="US/NV">NV-Nevada</option><option value="US/NH">NH-New Hampshire</option><option value="US/NJ">NJ-New Jersey</option><option value="US/NM">NM-New Mexico</option><option value="US/NY">NY-New York</option><option value="US/NC">NC-North Carolina</option><option value="US/ND">ND-North Dakota</option><option value="US/OH">OH-Ohio</option><option value="US/OK">OK-Oklahoma</option><option value="US/OR">OR-Oregon</option><option value="US/PA">PA-Pennsylvania</option><option value="US/RI">RI-Rhode Island</option><option value="US/SC">SC-South Carolina</option><option value="US/SD">SD-South Dakota</option><option value="US/TN">TN-Tennessee</option><option value="US/TX">TX-Texas</option><option value="US/UT">UT-Utah</option><option value="US/VT">VT-Vermont</option><option value="US/VA">VA-Virginia</option><option value="US/WA">WA-Washington</option><option value="US/WV">WV-West Virginia</option><option value="US/WI">WI-Wisconsin</option><option value="US/WY">WY-Wyoming</option></select><label for="state">
				Select State</label>
			</div>
		</div>
	</div>


<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required ">
			<input id="postalCode" name="zipPostal" ng-blur="filterShippingMethods(&#39;Your State selection does not match with your Zip/Postal Code selection.&#39;);" ng-model="selectedShippingZip" aria-required="true" class="form-control" onchange="addressChanged();" type="text" value="" size="10" maxlength="10"/><label for="postalCode">
				Zip Code</label>
		</div>
	</div>
</div>
<div class="ml-wm-form-row ml-form-with-help">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='WE ONLY SHIP TO U.S. ADDRESSES AT THIS TIME' data-trigger="focus" tabindex="-1"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
	<div class="ml-wm-form-element-wraper disabled">
		<div class="ml-wm-form-element static-label required">
			<div>
				<div id="boderFreeregionMenuCoun" style="display:none">
					<select id="country" name="country" aria-required="true" class="form-control" aria-label="Source Code" onchange="MarketLive.Base.stateSet(this,false);MarketLive.Base.phoneValidationReset(this)"><option value="">Select a Country</option>
							<option value="US" selected="selected">US-United States</option></select></div>
				<input type="text" size="208" value="US-United States" readonly="true" id="countryText" tabindex="-1" class="form-control"/>
				<label for="countryText">Country</label>
			</div>
		</div>
	</div>
</div>

<div class="ml-wm-form-row ml-form-with-help">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for your Phone Number only so we can communicate with you about your order.' data-trigger="focus" tabindex="-1"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
				<input id="dayPhone" name="dayPhone" aria-required="true" type="tel" class="form-control" value="" size="12" maxlength="20"/><label for="dayPhone">
				Phone</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row ml-form-with-help">
		<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='Enter your World Market Explorer Member ID to earn Shopper Reward Credits on your purchase.' data-trigger="focus" tabindex="-1"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element ">
				<div>
					<input id="memberId" name="memberId" type="text" value="" class="form-control" value="" size="12" maxlength="10">
					<label for="memberId">
						World Market Explorer ID</label>
				</div>
			</div>
		</div>
	</div>

	<div class="ml-wm-form-row ml-form-with-help">
		<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for Email only so we can communicate with you about your order.' data-trigger="focus" tabindex="-1"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
				<div class="ml-email-address">
						<input id="emailAddress" name="emailAddress" aria-required="true" type="email" class="form-control" value="" size="35" maxlength="100"/><label for="emailAddress">
					
						Email for Order Confirmation</label>
				</div>
			</div>
		</div>
	</div>
	</div>
</div>

</div>
<div id="ml-shipping-method-holder">

	<div class="ml-checkout-in-heading">Please select shipping method</div>
	
	<div ng-repeat="shipmentItem in model.shipping.shipments">
		<div class="ml-shipment-meta-info">
			<div class="pull-right">{{shipmentItem.attributeMap['selectedshippingMethodCost']}}</div>
			<div>Shipment - {{$index + 1}}</div>
		</div>
		<div class="ml-shipping-method-container">
			<div class="ml-shipment">
				<div class="ml-shippable-item-thumb-img-col error-color" ng-if="isEmpty(shipmentItem.attributeMap['shippingMethodOptions']) && $index < 1">
					<b>Complete your shipping address above to determine your shipping cost.</b>
				</div>
				<div class="ml-shippable-item-select-parent-col">
					<div>
						<div class="ml-shippable-item" ng-repeat="item in shipmentItem.items" ng-class-odd="'ml-shippable-items-odd'">
						
							<div class="ml-shippable-item-select-col">
								<span ng-if="item.basketItem.image && item.basketItem.image.indexOf('_v') == -1">
									<div class="ml-shippable-item-thumb-img-col">
										<img class="ml-responsive-thumbnail"
											ng-src="{{item.basketItem.image.replace('.tif','_v1.tif')}}"
											alt="{{item.basketItem.description}}">
									</div>
								</span>

								<span ng-if="item.basketItem.image && item.basketItem.image.indexOf('_v') > -1">
									<div class="ml-shippable-item-thumb-img-col">
										<img class="ml-responsive-thumbnail"
											ng-src="{{item.basketItem.image}}"
											alt="{{item.basketItem.description}}">
									</div>
								</span>

								<div class="item-desc">
									<div class="item-name">{{item.basketItem.description}}</div>
								</div>

								<div ng-if="item.attributeMap['freeShipDiscContent']  && item.attributeMap['freeShipMsg']">
									
									<div class="ml-wm-freeshipping">
										<a id="freeshipLinkCheckout" style="cursor: pointer;"
											data-target="#freeshipModalCheckout_{{$index}}"
											data-toggle="modal"> {{item.attributeMap['freeShipMsg']}}</a>
									</div>

									<div class="ml-modal modal fade" id="freeshipModalCheckout_{{$index}}" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div>
										<div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<div id="freeShipDisclaimer">
		</div>
</div>

</div>
									</div></div></div></div>
							</div>
						</div>
					</div>
				<div>
				
				
				<div>
					<div ng-if="shipmentItem.attributeMap['shippingMethodsAvailable'] == false">
						<div class="ml-wm-form-container">
							<div class="ml-wm-form-row">
								<div class="ml-shippable-item-thumb-img-col error-color">
									<b>No shipping options available for this item. Please change your address and try again.</b>
								</div>
							</div>
						</div>
					</div>

					<div ng-if="shipmentItem.attributeMap['shippingMethodsAvailable'] && shipmentItem.attributeMap['shippingMethodOptions'].options.length > 1">
						<div class="ml-wm-form-container">
							<div class="ml-wm-form-row">
								<div class="ml-wm-form-element-wraper">
									<div class="ml-wm-form-element static-label no-required-space dropdown-arrow">
										<label ng-if="!shipmentItem.attributeMap['isEGiftCertificateItem'] && shipmentItem.attributeMap['shipArrivalDate'] !=''">{{shipmentItem.attributeMap['shipArrivalDate']}}</label>
										<select id="shippingMethods" class="form-control"
											ie-select-fix="shipmentItem.attributeMap['shippingMethodOptions'].options"
											ng-model="shipmentItem.attributeMap['shippingMethodOptions'].selectedOption"
											ng-options="option.value as option.label for option in shipmentItem.attributeMap['shippingMethodOptions'].options"
											ng-show="shipmentItem.attributeMap['shippingMethodOptions'].options.length > 0"
											ng-change="updateShippingMethod({'shipmentId':shipmentItem.id,'itemId': item.basketItem.id, 'shippingMethodId':shipmentItem.attributeMap['shippingMethodOptions'].selectedOption})">
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div ng-if="shipmentItem.attributeMap['shippingMethodsAvailable'] && shipmentItem.attributeMap['shippingMethodOptions'].options.length == 1 ">
						<div ng-repeat="x in shipmentItem.attributeMap['shippingMethodOptions'].options" value="{{x.value}}" class="wm-shipping-method-label">
							<p ng-bind-html='trustAsHtmlString(x.label)'></p>
						</div>
					</div>
				
					<div>
						<div ng-if="shipmentItem.attributeMap['shippingMethodsAvailable'] 
						&& shipmentItem.attributeMap['shippingMethodOptions'].options.length == 1">
							<span ng-if="!shipmentItem.attributeMap['isEGiftCertificateItem'] && shipmentItem.attributeMap['shipArrivalDate'] !=''">{{shipmentItem.attributeMap['shipArrivalDate']}}</span>
						</div>
						<div class="wm-shipping-method-surcharge" ng-if="shipmentItem.attributeMap['deliverySurcharge'] && shipmentItem.attributeMap['deliverySurcharge'] !='$0.00'">
							
							<a href="javascript:void(0);" data-toggle="popover"
								data-placement="top" title=""
								data-content='Surcharge Message will come here'
								data-trigger="focus" tabindex="-1">
								<span class="ml-icon-lib ml-icon-question ml-icon-fw"></span>
							</a> 
							
							<span class="wm-shipping-method-surcharge-label">Surcharge:</span>
							{{shipmentItem.attributeMap['deliverySurcharge']}}<br> 
							<span>(Cost shown in order summary)</span>
						</div>
					</div>

					<div class="ml-shippable-item" ng-repeat="sitem in shipmentItem.items | limitTo:1">
							<div class="ml-shipping-gift-options ml-shipping-subsection" ng-class="{'ml-shipping-gift-options-applied': sitem.attributeMap['basketItemGiftMessage'].applied}">
								<div class="ml-checkout-sub-header ml-shipping-header ml-shipping-header-gift">
									<div class="ml-shipping-link-wrapper ml-shipping-gift-wrap-link">
										<span class="ml-shipping-link"> 
											<a href="javascript:void(0);" ng-click="showGiftOptions({'event':$event, type:'edit', shipment: shipmentItem})">
												Edit</a>
										</span>
									</div>
								</div>

								<div id="gocontent">
									<div class="ml-shipping-gift-options-applied-display">
										<div ng-repeat="giftItem in sitem.attributeMap['basketItemGiftMessage'].applied">
											<div class="ml-shipping-gift-options-applied-display-message"
												ng-show="giftItem.message">
												Gift Message:
												{{giftItem.message}}
											</div>

											<div class="ml-shipping-gift-options-applied-display-items" ng-show="giftItem.items.length > 0">
												<span class="ml-shipping-gift-type-label">{{giftItem.giftTypeLabel}}</span>
												<div class="ml-shipping-gift-items" ng-repeat="wrapItem in giftItem.items">
													<span class="ml-shipping-gift-wrap-value">{{wrapItem.value}}</span>
													<span class="ml-shipping-gift-wrap-label">{{wrapItem.label}}</span>
												</div>
											</div>
										</div>
									</div>
										<div class="ml-shipping-gift-options-enter-display">
										<a href="#" ng-click="showGiftOptions({'event':$event, type:'new', shipment: shipmentItem})">
											Add Gift Message <span>+</span>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				</div>
			 </div>
		 </div>
	</div>
</div></div>
		</div>

		<div class="ml-shipping-button" id="shippingTierbtn">
            
			<button ng-if="model.pickupInStore.storeCount > 0" id="btnContinueShippingForm"
                    name="ContinueShippingForm"
                    class="ml-button-submit-primary"
                    ng-click="submitStep($event, 0)">Continue To Pickup</button>
			
			<button ng-if="model.pickupInStore.storeCount == 0" id="btnContinueShippingForm"
                    name="ContinueShippingForm"
                    class="ml-button-submit-primary"
                    ng-click="submitStep($event, 0)">Continue to Payment</button>

        </div>

			<div class="ml-modal modal fade" id="fedexSuggestedAddrModal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><br><br>
			<div id="accSuggestedAddressDiv" class="suggestedAddressPopup" style="display:none;z-index:5001;padding:20px;height:330px;">
			<div>The US Postal Service matched the address you entered to the suggested address on the right. <strong>Please choose either the suggested address, or the address as you originally entered, and click Continue.</strong></div>
			<div id="notfoundmsg" style="display:none;">Unfortunately we could not validate this address. Please select an option below.</div>
			<div><html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="1" height="40" border="0" />
			</div>
			<div class="seggestionTable">
				<div class="suggestionTD">
					<div id="originalAddRadioDiv" style="display:none;">
					
					<label><span class="accColorsubheader" style="font-size:12px;font-weight:bold;">
						Originally Entered Address:<html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="50" height="1" border="0" /></span></label>
					</div>
					<div id="originalAddDiv" style="display:none;">
						<input type="radio" name="rdAddress" aria-label="Source Code" value="OAddress" />
						<div class="ml-address-options">
							<span id="originalAdd1"></span><br/>
							<div style="display:none;" id="originalAdd2"><br/></div>
							<span id="originalCity"></span><br/>
							<span id="originalState"></span>, <span id="originalZip"></span><br>
						</div>
					</div> 
				</div>
				<div class="suggestionTD">
					<div id="suggestedAddRadioDiv" style="display:none;">
					
					<label><span class="accColorsubheader"  style="font-size:12px;font-weight:bold;">
						Suggested Address:<html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="50" height="1" border="0" /></span></label>
					</div>
					<div id="suggestedAddDiv" style="display:none;">
					<input type="radio" name="rdAddress" aria-label="Source Code" value="SAddress" checked="checked"/>
					<div class="ml-address-options">
						<div id="suggestedAdd1" name="suggestedAdd1"></div>
						<div id="suggestedAdd2"></div>
						<span id="suggestedCity"></span><br/>
						<span id="suggestedState"></span>, <span name="suggestedZip" id="suggestedZip"></span><br/><br
						/>
					</div>
					</div>  
				</div>					
			</div>
			<div><html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="1" height="10" border="0" /></div>
			 
			<div class="ml-billing-button pull-left">
				<input type="button"
				   id="btnContinueBillingForm"
				   name="ContinueBillingForm"
				   class="ml-button-submit-primary"
				   type="submit"
				   value="Use this address"
				   ng-click="fedexSubmitStep($event, 0)"/>
			</div>
						
			<div id="otherbuttons" style="display:none;" class="pull-right">
				<div class="ml-billing-button">
					<input type="button"
					id="btnContinueBillingForm"
					name="ContinueBillingForm"
					class="ml-button-submit-primary"
					type="submit"
					value="Change Address"
					ng-click="fedexChangeAddrStep($event, 0)"/>
				</div>
			</div>
			</div>
			</div></div></div></form></div>

<div class="ml-edit-contact-modal ml-modal modal fade in" tabindex="-1" role="dialog" aria-hidden="false">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="closeButton" data-dismiss="modal"></div>
			<div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<div id="editContactContainer">
	<div class="wm-header">Complete Address</div>
	<div class="editAlert">Please complete the following information marked with an arrow</div>
	<div id="editContactError" style="display:none" class="alert alert-warning alert-dismissable"></div>
	<div>
	 <form id="editAddressForm" action="/accordion/editContact.do?method=submit" method="post" onsubmit="return false"><input type="hidden" name="contactId" id="contactId" value=""/>
		<input type="hidden" name="isShipping" id="isShipping" value=""/>
		<div><div class="ml-wm-form-container">
<input type="hidden" id="isAddressChanged" name="isAddressChanged" value="false" />
<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="firstName" name="firstName" class="form-control" type="text" value="" size="20" maxlength="40"/><label for="firstName">
				First Name</label>
		</div>
	</div>



<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="lastName" name="lastName" class="form-control" type="text" value="" size="17" maxlength="40"/><label for="lastName">
				Last Name</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="streetAddress" name="streetAddress" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="streetAddress">
				Address Line 1</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
	<div class="ml-wm-form-element">
		<input id="streetAddressOptional" name="streetAddressOptional" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="streetAddressOptional">
			Address Line 2 (Apt #, Floor, Suite)</label>
		
	</div>
</div>
</div>

<div class="ml-wm-form-row">
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
			<input id="city" name="city" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="city">
				City</label>
		</div>
	</div>

<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required dropdown-arrow">
	<div ng-show="showBorderFreeRegion(false,false,'US','#addressForm #region')" id="boderFreeregionTextState" >
			<input id="region" name="region" class="form-control" type="text" value="" size="35" maxlength="50"/><label for="region">
			Region</label>
	</div>
	<div ng-show="showBorderFreeStateMenu(false,false,'US','#addressForm #state','#addressForm #country')" id="boderFreeregionMenuState" >
			
			<select id="state" name="state" class="form-control" onchange="MarketLive.Base.countrySet(this);"><option value="">&nbsp;<!-- Select A State --></option>
						<option value="US/AL">AL-Alabama</option><option value="US/AK">AK-Alaska</option><option value="US/AZ">AZ-Arizona</option><option value="US/AR">AR-Arkansas</option><option value="US/CA">CA-California</option><option value="US/CO">CO-Colorado</option><option value="US/CT">CT-Connecticut</option><option value="US/DE">DE-Delaware</option><option value="US/DC">DC-District of Columbia</option><option value="US/FL">FL-Florida</option><option value="US/GA">GA-Georgia</option><option value="US/HI">HI-Hawaii</option><option value="US/ID">ID-Idaho</option><option value="US/IL">IL-Illinois</option><option value="US/IN">IN-Indiana</option><option value="US/IA">IA-Iowa</option><option value="US/KS">KS-Kansas</option><option value="US/KY">KY-Kentucky</option><option value="US/LA">LA-Louisiana</option><option value="US/ME">ME-Maine</option><option value="US/MD">MD-Maryland</option><option value="US/MA">MA-Massachusetts</option><option value="US/MI">MI-Michigan</option><option value="US/MN">MN-Minnesota</option><option value="US/MS">MS-Mississippi</option><option value="US/MO">MO-Missouri</option><option value="US/MT">MT-Montana</option><option value="US/NE">NE-Nebraska</option><option value="US/NV">NV-Nevada</option><option value="US/NH">NH-New Hampshire</option><option value="US/NJ">NJ-New Jersey</option><option value="US/NM">NM-New Mexico</option><option value="US/NY">NY-New York</option><option value="US/NC">NC-North Carolina</option><option value="US/ND">ND-North Dakota</option><option value="US/OH">OH-Ohio</option><option value="US/OK">OK-Oklahoma</option><option value="US/OR">OR-Oregon</option><option value="US/PA">PA-Pennsylvania</option><option value="US/RI">RI-Rhode Island</option><option value="US/SC">SC-South Carolina</option><option value="US/SD">SD-South Dakota</option><option value="US/TN">TN-Tennessee</option><option value="US/TX">TX-Texas</option><option value="US/UT">UT-Utah</option><option value="US/VT">VT-Vermont</option><option value="US/VA">VA-Virginia</option><option value="US/WA">WA-Washington</option><option value="US/WV">WV-West Virginia</option><option value="US/WI">WI-Wisconsin</option><option value="US/WY">WY-Wyoming</option></select><label for="state">
					Select State</label>
			</div>
		</div>
	</div>


<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
		<input id="postalCode" name="zipPostal" class="form-control" onchange="addressChanged();" type="text" value="" size="10" maxlength="10"/><label for="zipPostal">
			Zip Code</label>
	</div>
</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='WE ONLY SHIP TO U.S. ADDRESSES AT THIS TIME' data-trigger="focus"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
	<div id="boderFreeregionMenuCoun" style="display:none">
		<select id="country" name="country" class="form-control" aria-label="Source Code" onchange="MarketLive.Base.stateSet(this,false);MarketLive.Base.phoneValidationReset(this)"><option value="">&nbsp;</option>
				<option value="US" selected="selected">US-United States</option></select></div>
	<input type="text" size="208" value="US-United States" readonly="true" id="countryText" class="form-control"/>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for your Phone Number only so we can communicate with you about your order.' data-trigger="focus"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
        <input id="dayPhone" name="dayPhone" type="tel" class="form-control" value="" size="12" maxlength="20"/><label class="control-label">
		Phone</label>
</div>
</div>
</div>

<div class="ml-wm-form-row ">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for Email only so we can communicate with you about your order.' data-trigger="focus"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
		<label for="emailAddress">Email for Order Confirmation</label>
			<input id="emailAddress" name="emailAddress" type="email" class="form-control" value="" size="35" maxlength="100"/>(must be accurate for us to send your order confirmation)</div>
	</div>
	</div>
</div>
</div>
		<div class="ml-text-right margin-top-20">
			<a href="javascript:;" data-dismiss="modal" class="cancelBTN">Cancel</a>
			&nbsp;&nbsp;&nbsp;&nbsp;
			<button type="submit" id="accountSubmit" ng-click="submitEditContact($event,'editAddressForm')" class="ml-button-submit-primary">COMPLETE AND USE THIS ADDRESS</button>
		</div>
		</form></div>
</div>
</div>

</div>
	</div>
</div>


<div class="ml-gift-option-modal ml-modal modal fade" id="ml-gift-option-modal-popup" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<script>
var giftMessageSplCharsKey="[a-zA-Z0-9!\"#$%&'()+,:;=?@\\[\\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·.]";
</script>
<div class="ml-gift-option-container ml-popup">
    <h1>Gift Options</h1>

    <div>
        <form id="giftOptionForm" action="/accordion/giftoptions.do?method=saveAndContinue" method="post"><div class="">
                    <div class="default"><b>Gift Message:</b>(max. 250 characters)</div>

                        <div class="ml-gift-option-text-area">
                        <label for="giftMessage" class="ml-srOnly-content">Gift Message:</label>
                            <textarea id="giftMessage" name="{{model.stateData.activeShipment.gifting.message.path}}" maxlength="500" ng-model="model.stateData.activeShipment.gifting.message.value"></textarea>
                    </div>

                <div class="ml-shipping-popup-button ml-gift-option-button">
                <button type="button" class="ml-secondary-button-understated" id="giftOptionButtonCancel" data-dismiss="modal" aria-hidden="true" aria-label="Cancel">Cancel</button>
                    <label for="SaveAndContinueGiftoptions" class="ml-srOnly-content">Save &amp; Continue &gt;</label>
                    <input type="submit"
                           data-dismiss="modal"
                           name="SaveAndContinueGiftoptionsForm"
                           id="SaveAndContinueGiftoptions"
                           class="ml-button-submit-primary"
                           value="Save &amp; Continue &gt;"
                           ng-click="postForm({'event':$event, 'stepIndex':0, 'method':'applyGiftOptions'})"/>
                </div>
            </form></div>
</div>
<script type="text/javascript" language="javascript">
	jQuery(document).ready(function() {
		var maxLength = 250;
		//confirm("giftMessageSplCharsKey "+giftMessageSplCharsKey);
		//ORIGINAL SPL CHARS 
		//!"#$%&'()+,:;=?@[]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·
		// added number and alphabet and special chars also note that we have to escape " with \ and [] with \\[\\]
		// this below string is for static use if we 
		//var allowedSplChars="[a-zA-Z0-9!\"#$%&'()+,:;=?@\\[\\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·]";
		//if we read this from property from config then below value need to add in config note we need only one \ for escaping [ or this in  config ]
		//[a-zA-Z0-9!\"#$%&'()+,:;=?@\[\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·]
		//var allowedSplChars = $('#giftMsgAllowedChars').text();
		var test = new RegExp(giftMessageSplCharsKey);
		//handle special characters case when typing  
		$('textarea[id$="giftMessage"]').bind('keydown', function (event)
			{
			switch (event.keyCode)
			  {
				case 8:  // Backspace
				case 9:  // Tab
				case 13: // Enter
				case 37: // Left
				case 38: // Up
				case 39: // Right
				case 40: // Down
				break;
				default:
				var key = event.key;
				if(!key.match(test)){
					event.preventDefault();
					return false;
			  }
				break;
			}
		});
		//handle paste characters case
		$('textarea[name$="giftMessage"]').keyup(function() {
			var splChars=[];
			var arrIndex=0;
			for (var i = 0; i < $(this).val().length; i++)
				{
					var key=$(this).val().charAt(i);
					if(!key.match(test))
					{
						splChars[arrIndex]=key;
						arrIndex++;
					}
				}
				for (var i = 0; i < splChars.length; i++)
				{
					$(this).val($(this).val().replace(splChars[i], ""));
				}  
		//end handle paste characters case	
			var clientLength = $(this).val().length;
			var serverLength = $(this).val().replace(/\n/g, "\n\r").length;
			if (serverLength > maxLength) {
				$(this).val($(this).val().substr(0, clientLength - (serverLength - maxLength)));
			}
		});
	});
</script>
</div>

</div></div></div></div>
</li>
<li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(1),
    'ml-accordion-step-collapsed':isStepCollapsed(1),
    'ml-accordion-step-no-uc':!isUserCollapsible(1),
    'ml-accordion-step-hidden':isStepHidden(1)}" ng-show ="false">
    
	<div ng-show ="isStepCollapsed(5)">
		<h2 ng-click="toggleStepCollapse(1)">
    <span>
        <span>{{getStepHeading(1)}}</span>
    </span>
    <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(1) && isStepCollapsed(1))" tabindex="0">Edit</span>
</h2>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[1].collapsed" collapse="isStepCollapsed(1)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(1)">
    <div ng-repeat="alert in getStepAlertData(1)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<div>
	<div class="form-group">
		<input id="SAME_AS_SHIPPING" type="radio" aria-label="Source Code"  name="billingStyle" value="SAME_AS_SHIPPING" ng-model="model.shipping.attributeMap['billingStyle']"/>
		Use shipping address<br>
		<input id="BILLING_DIFFERENT" type="radio" aria-label="Source Code" name="billingStyle" value="BILLING_DIFFERENT" ng-model="model.shipping.attributeMap['billingStyle']"/>
		Use different address
	</div>
</div>

<div ng-switch on="model.shipping.attributeMap['billingStyle']">
	<div ng-switch-when="BILLING_DIFFERENT">
	<form id="addressForm" action="/accordioncheckout.do?method=billingSubmit" method="post"><div class="ml-checkout-billing">
			<input type="hidden" id="suggestedAddress" name="suggestedAddress" value="" />
			<div class="ml-billing-button-clearFix"></div>
		</div>					
		</form></div>

	<div ng-switch-default>
		<div ng-repeat="detail in model.shipping.billTo.details track by $index">{{detail}}</div>			
	</div>

</div></div>
</li>
<li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(2),
    'ml-accordion-step-collapsed':isStepCollapsed(2),
    'ml-accordion-step-no-uc':!isUserCollapsible(2),
    'ml-accordion-step-hidden':isStepHidden(2)}" ng-show ="true">
    
	<div ng-show ="isStepCollapsed(5)">
		<h2 ng-click="toggleStepCollapse(2)">
    <span>
        <span>{{getStepHeading(2)}}</span>
    </span>
    <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(2) && isStepCollapsed(2))" tabindex="0">Edit</span>
</h2>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[2].collapsed" collapse="isStepCollapsed(2)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(2)">
    <div ng-repeat="alert in getStepAlertData(2)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<form>
    <div class="ml-shipping-container ml-delivery-giftopt-container">
        <div ng-repeat="shipment in model.shipping.shipments">
            <div class="row">
                <div class="ml-shipping-shhipments">
                    <div class="ml-shipment-sub-header">Shipment {{$index + 1}} of {{model.shipping.shipments.length}}</div>

                    <div class="ml-delivery-contact">
                        <div ng-repeat="detail in shipment.contact.details track by $index">{{detail}}</div>
                    </div>

                    <div>
                        <div class="ml-checkout-sub-header ml-shipping-header ml-deliver-options-header">Shipment Contains</div>
                        <div ng-repeat="shipmentItem in shipment.items" class="ml-shipping-shipment-item">
                            <div>{{shipmentItem.basketItem.description}}</div>

                            <div class="item-options">
                                <div ng-repeat="skuOption in shipmentItem.basketItem.skuOptions" class="ml-shipment-item-detail">
                                    <span>{{skuOption.value}}</span><span ng-hide="$last">,</span>
                                </div>
                            </div>

                            <div class="ml-product-personalization" ng-show="shipmentItem.basketItem.personalizations">
                                <div class="ml-product-personalization-header">Personalization:</div>
                                <div>
                                    <div class="ml-product-personalization-link" ng-repeat="personalization in shipmentItem.basketItem.personalizations">{{personalization.label}}:{{personalization.value}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ml-shipping-delivery-gift">
                    <div class="ml-shipping-methods">
                        <div class="ml-checkout-sub-header ml-shipping-header ml-deliver-options-header">Delivery Options</div>
                        <div data-ml-delivery-options
                             data-shipment="shipment"
                             data-ml-watch-this="shipment.delivery.selectedOption"
                             data-ml-do-that="postData({'stepIndex':2})"></div>
                    </div>

                    <div class="ml-message-shipment-weight-surcharge"
                         ng-show="shipment.messages.weightSurcharge">{{shipment.messages.weightSurcharge}}</div>

                    <div class="ml-shipping-gift-options ml-shipping-subsection"
                             ng-class="{'ml-shipping-gift-options-applied': shipment.gifting.applied}">

                            <div class="ml-checkout-sub-header ml-shipping-header ml-shipping-header-gift">
                                <div class="ml-shipping-header-label">Gift Options</div>
                                <div class="ml-shipping-link-wrapper ml-shipping-gift-wrap-link">
                            <span class="ml-shipping-link">
                                <a href="javascript:void(0)" data-target="#ml-gift-option-modal-popup" ng-click="showGiftOptions({'event':$event, type:'edit', shipment:shipment})" data-target="#ml-gift-option-modal-popup">
                                    Edit</a>
                            </span>
                                </div>
                            </div>

                            <div>

                                <div class="ml-shipping-gift-options-applied-display">
                                    <div ng-repeat="giftItem in shipment.gifting.applied">
                                        <div class="ml-shipping-gift-options-applied-display-message" ng-show="giftItem.message">
                                            Gift Message:
                                            {{giftItem.message}}
                                        </div>

                                        <div class="ml-shipping-gift-options-applied-display-items" ng-show="giftItem.items.length > 0">
                                            <span class="ml-shipping-gift-type-label">{{giftItem.giftTypeLabel}}</span>
                                            <div class="ml-shipping-gift-items" ng-repeat="wrapItem in giftItem.items">
                                                <span class="ml-shipping-gift-wrap-value">{{wrapItem.value}}</span><span class="ml-shipping-gift-wrap-label">{{wrapItem.label}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="ml-shipping-gift-options-enter-display">
                                    <a href="javascript:void(0)" data-target="#ml-gift-option-modal-popup" ng-click="showGiftOptions({'event':$event, type:'new', shipment:shipment})" data-target="#ml-gift-option-modal-popup">Click here</a> to enter gift message and/or gift box.</div>
                            </div>
                        </div>
                    </div>
            </div>

            <div ng-hide="$last" class="ml-shipping-shipment-separator">
                <div class="ml-horizontal-separator"></div>
            </div>

        </div>

        <div class="ml-button-submit-wrapper">
            <button id="btnContinueShippingForm"
                    name="ContinueShippingForm"
                    class="ml-button-submit-primary"
                    ng-click="submitStep($event, 2)">Continue ></button>
        </div>
    </div>
</form>

<div class="ml-gift-option-modal ml-modal modal fade" id="ml-gift-option-modal-popup" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<script>
var giftMessageSplCharsKey="[a-zA-Z0-9!\"#$%&'()+,:;=?@\\[\\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·.]";
</script>
<div class="ml-gift-option-container ml-popup">
    <h1>Gift Options</h1>

    <div>
        <form id="giftOptionForm" action="/accordion/giftoptions.do?method=saveAndContinue" method="post"><div class="">
                    <div class="default"><b>Gift Message:</b>(max. 250 characters)</div>

                        <div class="ml-gift-option-text-area">
                        <label for="giftMessage" class="ml-srOnly-content">Gift Message:</label>
                            <textarea id="giftMessage" name="{{model.stateData.activeShipment.gifting.message.path}}" maxlength="500" ng-model="model.stateData.activeShipment.gifting.message.value"></textarea>
                    </div>

                <div class="ml-shipping-popup-button ml-gift-option-button">
                <button type="button" class="ml-secondary-button-understated" id="giftOptionButtonCancel" data-dismiss="modal" aria-hidden="true" aria-label="Cancel">Cancel</button>
                    <label for="SaveAndContinueGiftoptions" class="ml-srOnly-content">Save &amp; Continue &gt;</label>
                    <input type="submit"
                           data-dismiss="modal"
                           name="SaveAndContinueGiftoptionsForm"
                           id="SaveAndContinueGiftoptions"
                           class="ml-button-submit-primary"
                           value="Save &amp; Continue &gt;"
                           ng-click="postForm({'event':$event, 'stepIndex':2, 'method':'applyGiftOptions'})"/>
                </div>
            </form></div>
</div>
<script type="text/javascript" language="javascript">
	jQuery(document).ready(function() {
		var maxLength = 250;
		//confirm("giftMessageSplCharsKey "+giftMessageSplCharsKey);
		//ORIGINAL SPL CHARS 
		//!"#$%&'()+,:;=?@[]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·
		// added number and alphabet and special chars also note that we have to escape " with \ and [] with \\[\\]
		// this below string is for static use if we 
		//var allowedSplChars="[a-zA-Z0-9!\"#$%&'()+,:;=?@\\[\\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·]";
		//if we read this from property from config then below value need to add in config note we need only one \ for escaping [ or this in  config ]
		//[a-zA-Z0-9!\"#$%&'()+,:;=?@\[\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·]
		//var allowedSplChars = $('#giftMsgAllowedChars').text();
		var test = new RegExp(giftMessageSplCharsKey);
		//handle special characters case when typing  
		$('textarea[id$="giftMessage"]').bind('keydown', function (event)
			{
			switch (event.keyCode)
			  {
				case 8:  // Backspace
				case 9:  // Tab
				case 13: // Enter
				case 37: // Left
				case 38: // Up
				case 39: // Right
				case 40: // Down
				break;
				default:
				var key = event.key;
				if(!key.match(test)){
					event.preventDefault();
					return false;
			  }
				break;
			}
		});
		//handle paste characters case
		$('textarea[name$="giftMessage"]').keyup(function() {
			var splChars=[];
			var arrIndex=0;
			for (var i = 0; i < $(this).val().length; i++)
				{
					var key=$(this).val().charAt(i);
					if(!key.match(test))
					{
						splChars[arrIndex]=key;
						arrIndex++;
					}
				}
				for (var i = 0; i < splChars.length; i++)
				{
					$(this).val($(this).val().replace(splChars[i], ""));
				}  
		//end handle paste characters case	
			var clientLength = $(this).val().length;
			var serverLength = $(this).val().replace(/\n/g, "\n\r").length;
			if (serverLength > maxLength) {
				$(this).val($(this).val().substr(0, clientLength - (serverLength - maxLength)));
			}
		});
	});
</script>
</div>

</div></div></div></div>
</li>
<li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(3),
    'ml-accordion-step-collapsed':isStepCollapsed(3),
    'ml-accordion-step-no-uc':!isUserCollapsible(3),
    'ml-accordion-step-hidden':isStepHidden(3)}" ng-show ="true">
    
	<div ng-show ="isStepCollapsed(5)">
		<h2 ng-click="toggleStepCollapse(3)">
    <span>
        <span>{{getStepHeading(3)}}</span>
    </span>
    <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(3) && isStepCollapsed(3))" tabindex="0">Edit</span>
</h2>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[3].collapsed" collapse="isStepCollapsed(3)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(3)">
    <div ng-repeat="alert in getStepAlertData(3)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<form id="pickupInStoreForm" action="/accordioncheckout.do?method=pickupInStoreSubmit" method="post"><div class="ml-checkout-instore-pickup-wrapper">
		<div class="ml-checkout-instore-pickup-detail-container">
			<input type="hidden" name="selectedStoreId" id="selectedStoreId" />
			<input type="hidden" name="selectedShipmentId" id="selectedShipmentId" />
			<div ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom" class="ml-checkout-instore-pickup-detail-box">
				<div class="ml-checkout-instore-pickup-product-info">
					<div class="ml-checkout-instore-pickup-store-detail">
						<div class="ml-checkout-instore-pickup-store-name"></div>
						<div>{{storeToPickItemsFrom.street1}}</div>
						<div>{{storeToPickItemsFrom.street2}}</div>
						<div>{{storeToPickItemsFrom.street3}}</div>
						<div>{{storeToPickItemsFrom.city}},&nbsp;{{storeToPickItemsFrom.state}}&nbsp;{{storeToPickItemsFrom.zipCode}}</div>
						<div>{{storeToPickItemsFrom.countryCode}}</div>
						<div>{{storeToPickItemsFrom.phone}}</div>
					</div>
					<div class="devider-hairline margin-top-30"></div>
				</div>
				
				<div class="ml-checkout-instore-pickup-info-detail">
				<div class="ml-checkout-instore-pickup-info">
					<h5>Who is picking up your order?</h5>
					<div class="form-group">
						<div class="control-label-content">
							<label class="inputRadio" for="I_WILL_PICKUP_{{storeToPickItemsFrom.id}}"><input type="radio" name="pickupOptionMap['{{storeToPickItemsFrom.id}}']" id="I_WILL_PICKUP_{{storeToPickItemsFrom.id}}" ng-model="storeToPickItemsFrom.whoWillPickup" value="I_WILL_PICKUP" ng-click="processIWillPickup({'event':$event, 'stepIndex':3, 'method':'iWillPickup', 'selectedStoreId':storeToPickItemsFrom.id, 'selectedShipmentId':storeToPickItemsFrom.shipmentId})" tabindex="0"/><div><i class="ml-icon-lib"></i>
							I will pickup the item(s)</div></label>
						</div>
					</div>
					<div class="form-group">
						<div class="control-label-content">
							<div ng-init="anchorLinkClicked = false"></div>
							<label class="inputRadio" for="SOMEONE_ELSE_WILL_PICKUP_{{storeToPickItemsFrom.id}}">
							<input type="radio" name="pickupOptionMap['{{storeToPickItemsFrom.id}}']" id="SOMEONE_ELSE_WILL_PICKUP_{{storeToPickItemsFrom.id}}" ng-model="storeToPickItemsFrom.whoWillPickup" value="SOMEONE_ELSE_WILL_PICKUP" ng-change="openSomeoneElseWillPickupPopup(storeToPickItemsFrom.id, storeToPickItemsFrom.shipmentId, anchorLinkClicked)" data-target="#whoWillPickupModal_{{storeToPickItemsFrom.id}}" tabindex="0"/><div><i class="ml-icon-lib"></i>Designate another person</div></label>
						</div>
					</div>
					
					</div>
				 
				 <div ng-show="storeToPickItemsFrom.whoWillPickup == 'SOMEONE_ELSE_WILL_PICKUP'" class="ml-pick-up-someone">
					 <div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<div class="ml-checkout-instore-pickup-who-pickup-wrapper">
    <div class="ml-wm-form-container">
    	<div class="ml-wm-form-row ml-flex-wrap-xs">
    		<div class="ml-wm-form-element-wraper">
    			<div class="ml-wm-form-element required ">
    				<input type="text" id="pickupContactMap{{storeToPickItemsFrom.id}}.firstName" name="pickupContactMap['{{storeToPickItemsFrom.id}}'].firstName" ng-model="storeToPickItemsFrom.pickupContact.firstName" size="20" maxlength="40" class="form-control" unbindable ng-keydown="unbind()">
    				<label for="pickupContactMap{{storeToPickItemsFrom.id}}.firstName">
					First Name</label>
    			</div>
    		</div>
            <div class="ml-wm-form-element-wraper">
                <div class="ml-wm-form-element required ">
                    <input type="text" id="pickupContactMap{{storeToPickItemsFrom.id}}.lastName" name="pickupContactMap['{{storeToPickItemsFrom.id}}'].lastName" ng-model="storeToPickItemsFrom.pickupContact.lastName" size="17" maxlength="40" class="form-control" unbindable ng-keydown="unbind()">
                    <label for="pickupContactMap{{storeToPickItemsFrom.id}}.lastName">
                        Last Name</label>
                </div>
            </div>
    	</div>
    	<div class="ml-wm-form-row">
            <div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for Email only so we can communicate with you about your order.' data-trigger="focus" tabindex="-1"><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
    		<div class="ml-wm-form-element-wraper">
    			<div class="ml-wm-form-element required">
    				<input type="email" id="pickupContactMap{{storeToPickItemsFrom.id}}.emailAddress" name="pickupContactMap['{{storeToPickItemsFrom.id}}'].emailAddress" ng-model="storeToPickItemsFrom.pickupContact.emailAddress" size="35" maxlength="100" class="form-control" unbindable ng-keydown="unbind()">
    				<label for="pickupContactMap{{storeToPickItemsFrom.id}}.emailAddress">
						Email</label>
    			</div>
    		</div>
    	</div>

		<div class="ml-wm-form-row">
            <div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for your Phone Number only so we can communicate with you about your order.' data-trigger="focus" tabindex="-1"><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
    		<div class="ml-wm-form-element-wraper">
    			<div class="ml-wm-form-element ">
    				<input type="tel" id="pickupContactMap['{{storeToPickItemsFrom.id}}'].mobilePhone" name="pickupContactMap['{{storeToPickItemsFrom.id}}'].mobilePhone" ng-model="storeToPickItemsFrom.pickupContact.mobilePhone" size="12" maxlength="20" class="form-control" unbindable ng-keydown="unbind()">
    				<label for="pickupContactMap['{{storeToPickItemsFrom.id}}'].mobilePhone">
						Mobile Phone</label>
    			</div>
    		</div>
    	</div>
    </div>

	</div>
</div>
</div>

</div>
				<div class="ml-checkout-instore-pickup-phone" ng-if="storeToPickItemsFrom.whoWillPickup == 'I_WILL_PICKUP'">
					<div class="devider-hairline margin-top-30"></div>
					<h5>Receive a text when your order is ready</h5>
					<div class="ml-wm-form-container">
						<div class="ml-wm-form-row">
							<div class="ml-wm-form-element-wraper">
								<div class="ml-wm-form-element">
									<label>MOBILE PHONE</label>
									<input type="text" id="mobileNumber" name="mobileNumber" size="20" maxlength="20" class="form-control">
								</div>
							</div>
						</div>
					</div>
				</div>
				</div>
						
			</div>	
			
					
		</div>

		<div class="ml-checkout-billing">
			<div class="ml-billing-button">
				<input id="btnContinuePickupInStoreForm" name="ContinuePickupInStoreForm" class="ml-button-submit-primary" type="submit" value="Continue to Payment" ng-click="submitStep($event, 3)"/>
			</div>
			<div class="ml-billing-button-clearFix"></div>
		</div>
	</div>
</form><div class="ml-gift-option-modal ml-modal modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<script>
var giftMessageSplCharsKey="[a-zA-Z0-9!\"#$%&'()+,:;=?@\\[\\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·.]";
</script>
<div class="ml-gift-option-container ml-popup">
    <h1>Gift Options</h1>

    <div>
        <form id="giftOptionForm" action="/accordion/giftoptions.do?method=saveAndContinue" method="post"><div class="">
                    <div class="default"><b>Gift Message:</b>(max. 250 characters)</div>

                        <div class="ml-gift-option-text-area">
                        <label for="giftMessage" class="ml-srOnly-content">Gift Message:</label>
                            <textarea id="giftMessage" name="{{model.stateData.activeShipment.gifting.message.path}}" maxlength="500" ng-model="model.stateData.activeShipment.gifting.message.value"></textarea>
                    </div>

                <div class="ml-shipping-popup-button ml-gift-option-button">
                <button type="button" class="ml-secondary-button-understated" id="giftOptionButtonCancel" data-dismiss="modal" aria-hidden="true" aria-label="Cancel">Cancel</button>
                    <label for="SaveAndContinueGiftoptions" class="ml-srOnly-content">Save &amp; Continue &gt;</label>
                    <input type="submit"
                           data-dismiss="modal"
                           name="SaveAndContinueGiftoptionsForm"
                           id="SaveAndContinueGiftoptions"
                           class="ml-button-submit-primary"
                           value="Save &amp; Continue &gt;"
                           ng-click="postForm({'event':$event, 'stepIndex':3, 'method':'applyGiftOptions'})"/>
                </div>
            </form></div>
</div>
<script type="text/javascript" language="javascript">
	jQuery(document).ready(function() {
		var maxLength = 250;
		//confirm("giftMessageSplCharsKey "+giftMessageSplCharsKey);
		//ORIGINAL SPL CHARS 
		//!"#$%&'()+,:;=?@[]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·
		// added number and alphabet and special chars also note that we have to escape " with \ and [] with \\[\\]
		// this below string is for static use if we 
		//var allowedSplChars="[a-zA-Z0-9!\"#$%&'()+,:;=?@\\[\\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·]";
		//if we read this from property from config then below value need to add in config note we need only one \ for escaping [ or this in  config ]
		//[a-zA-Z0-9!\"#$%&'()+,:;=?@\[\]^_{} Â¡Â¢Â£Â¤Â¥Â§ÂªÂ«Â¬Â¯Â°Â±Â²Â´ÂµÂ¶Â¸ÂºÂ»Â¼Â½Â¿Ã…Ã†ÃŒÃÃ‘Ã”Ã–Ã˜ÃŸÃ¡Ã¥Ã¦Ã§Ã¬Ã­Ã±Ã²Ã³Ã¶Ã·]
		//var allowedSplChars = $('#giftMsgAllowedChars').text();
		var test = new RegExp(giftMessageSplCharsKey);
		//handle special characters case when typing  
		$('textarea[id$="giftMessage"]').bind('keydown', function (event)
			{
			switch (event.keyCode)
			  {
				case 8:  // Backspace
				case 9:  // Tab
				case 13: // Enter
				case 37: // Left
				case 38: // Up
				case 39: // Right
				case 40: // Down
				break;
				default:
				var key = event.key;
				if(!key.match(test)){
					event.preventDefault();
					return false;
			  }
				break;
			}
		});
		//handle paste characters case
		$('textarea[name$="giftMessage"]').keyup(function() {
			var splChars=[];
			var arrIndex=0;
			for (var i = 0; i < $(this).val().length; i++)
				{
					var key=$(this).val().charAt(i);
					if(!key.match(test))
					{
						splChars[arrIndex]=key;
						arrIndex++;
					}
				}
				for (var i = 0; i < splChars.length; i++)
				{
					$(this).val($(this).val().replace(splChars[i], ""));
				}  
		//end handle paste characters case	
			var clientLength = $(this).val().length;
			var serverLength = $(this).val().replace(/\n/g, "\n\r").length;
			if (serverLength > maxLength) {
				$(this).val($(this).val().substr(0, clientLength - (serverLength - maxLength)));
			}
		});
	});
</script>
</div>

</div></div></div></div>
</li>
<li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(4),
    'ml-accordion-step-collapsed':isStepCollapsed(4),
    'ml-accordion-step-no-uc':!isUserCollapsible(4),
    'ml-accordion-step-hidden':isStepHidden(4)}" ng-show ="true">
    
	<div ng-show ="isStepCollapsed(5)">
		<h2 ng-click="toggleStepCollapse(4)">
    <span>
        <span>{{getStepHeading(4)}}</span>
    </span>
    <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(4) && isStepCollapsed(4))" tabindex="0">Edit</span>
</h2>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[4].collapsed" collapse="isStepCollapsed(4)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(4)">
    <div ng-repeat="alert in getStepAlertData(4)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<div id="billingError" style="display:none" class="alert alert-warning alert-dismissable"></div>
<form id="paymentForm" role="form" styleId="paymentForm" action="/checkout/accordioncheckout.do?method=view" method="post"><div class="ml-payment-wrapper">
	<div class="ml-wm-gift-card-link">
		<label for="giftCard">
			<a id="promoCodeLink" style="cursor:pointer;" data-target="#giftCertificateDetails" data-toggle="collapse" ng-click="isCollapsed = !isCollapsed">
			    <div><i class="ml-icon-lib"></i><span ng-init="isCollapsed = true">Apply a Gift Card&nbsp;</span></div>
		    </a>
		</label>
	</div>
	<div id="giftCertificateDetails" class="collapse ml-wm-giftcard-custom">
		<div ng-show="model.payment.showGiftCertificate">
			<div class="accColorsubheaderLrg">
			<div class="ml-modal modal fade" id="kiosksaveandsendcartModal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"></div></div></div></div>	
			<div class="ml-wm-form-container">
				<div class="ml-wm-form-row">
					<div class="ml-wm-form-element-wraper">
						<div class="ml-wm-form-element ">
							<label for="giftCertificateNumber">Card Number</label>
								<input type="text" name="giftCertificateNumber" id="giftCertificateNumber" class="form-control" ng-model="model.payment.giftCertificateNumber" size="20" maxlength="50" />
							</div>
							</div>
						</div>
			</div>
			<div class="ml-gift-code-button">
				<div class="ml-wm-form-container">
					<div class="ml-wm-form-row">
							<div class="ml-wm-form-element-wraper">
							<div class="ml-wm-form-element ">
								<label for="giftCardPin">Pin:</label>
								<input type="text" name="giftCardPin" id="giftCardPin" class="form-control" ng-model="model.payment.attributeMap['giftCardPin']" size="20" maxlength="50" />
							</div>
						</div>
					</div>
				</div>
				<div class="ml-payment-gc-apply">
					<div ng-click="!model.payment.giftCertificateNumber ||postData({'method':'applyGiftCertificate','data':'gcNumber='+model.payment.giftCertificateNumber+'&giftCardPin='+model.payment.attributeMap['giftCardPin']})" class="ml-button-submit-primary">Apply</div>
				</div>
			</div>

				<div id="ml-payment-gc-invalid"></div>

				<div class="ml-payment-gc-details" >
					<div ng-repeat="giftCertificate in model.payment.giftCertificates">
						Gift Certificate <span class="messagediscount">{{giftCertificate.attributeMap['maskedNumber']}}</span> for <span class="discount">{{giftCertificate.price}}</span> <span class="messagediscount"> Applied</span> -<span ng-click="postData({'method':'removeGiftCertificate','data':'id='+giftCertificate.number})" class="ml-secondary-button-understated" >Remove</span>
					</div>
				</div>
			
		</div>
	</div>
<div class="ml-accordion-sub-label">We Accept:</div>
		<div ng-show="!model.payment.visaCheckoutOrder" class="ml-wm-payment-section">
			<div class="row">
				<div class="col-sm-6">
					<div class="ml-payment-creditCard">
						<label class="inputRadio" for="creditCard">
							<input type="radio" name="paypalCheckoutSelected" id="creditCard" value="NO" ng-model="model.payment.paypalCheckoutSelected" tabindex="0"/>
							<div><i class="ml-icon-lib"></i><img src="/images/worldmarket/en_us/local/localgraphics/credit-cards.png" alt="Credit Card"></div>
						</label>
					</div>
				</div>
				<div class="col-sm-6 ">
								<div ng-show="model.payment.showPayPal">
							<div class="ml-payment-payPal" >
								<label class="inputRadio" for="paypalCheckoutSelectedBtn">
									<div class="ml-payment-payPal-image"><input type="radio" name="paypalCheckoutSelected" value="YES" ng-model="model.payment.paypalCheckoutSelected" id="paypalCheckoutSelectedBtn" tabindex="0"/><div><i class="ml-icon-lib"></i><img  src="https://www.paypal.com/en_US/i/logo/PayPal_mark_50x34.gif" alt="Paypal"></div></div>
									<a href="javascript:void(0);" class="ml-payment-payPal-desc" onclick="javascript:window.open('https://www.paypal.com/cgi-bin/webscr?cmd=xpt/Marketing/popup/OLCWhatIsPayPal-outside','olcwhatispaypal','toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=400, height=350');">What is PayPal?</a>
									<div class="ml-payment-payPal-clearFix" ></div>
								</label>
							</div>
						</div>
					</div>
			</div>
			<div ng-hide="model.payment.paypalCheckoutSelected == 'YES'">
   <div ng-hide="model.payment.paypalCheckoutSelected == 'onCredit'">
    <div class="ml-payment-form-label"></div>
	<div class="ml-wm-form-container">
		<div class="ml-wm-form-row">
			<div class="ml-wm-form-element-wraper">
				<div class="ml-wm-form-element required">
					<input type="text" name="creditCardName" id="creditCardName" maxlength="50" class="form-control"  ng-model="model.payment.creditCardName">
					<label for="creditCardName">Name on Card</label>
				</div>
			</div>
		</div>
       <div class="ml-wm-form-row">
			<div class="ml-wm-form-element-wraper">
				<div class="ml-wm-form-element required">
					<input type="text" name="creditCardNumber" id="creditCardNumber" size="16" maxlength="16" class="form-control" ng-model="model.payment.creditCardNumber"/>
					<label for="creditCardNumber">Card Number</label>
					<div class="ml-payment-credit-cards">
						<input type="hidden" id="ccRequiredForOrder" value=""/>
						<input type="hidden" name="creditCardType" ng-model="model.payment.creditCards.selectedOption" data-ml-sync-hidden/>
						<span data-ml-credit-cards data-ml-cards="model.payment.creditCards.options"
							  data-ml-card-number="model.payment.creditCardNumber"
							  data-ml-sync-to="model.payment.creditCards.selectedOption"
							  data-ml-image-root="/images/worldmarket/en_us/"></span>
					</div>
			   </div>
		  </div>
	   </div>
        <div class="ml-wm-form-row ml-form-with-help">
		<div class="ml-help-icon">
				<a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content="Tooltip message for Security Code " data-trigger="focus" tabindex="-1" data-original-title=""><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a>
			</div>
			<div class="ml-wm-form-element-wraper">
				<div class="ml-wm-form-element required">
						<input type="text" name="cvv2" id="cvv2" class="form-control" size="4" maxlength="4" autocomplete="off" ng-model="model.payment.cvv2" />
						<span class="ml-payment-cvv2-desc" style="display:none;">
							<a class="ml-secondary-button-understated" data-toggle="modal" data-target="#cvv2Modal" href="/checkout/cvv2.do"><a href="#" onclick="{0}">What's This?</a></a><div class="ml-cvv2-modal ml-modal modal fade" id="cvv2Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"></div></div></div></span>
						<label for="cvv2">Security Code</label>
				</div>
			</div>
			<div class="ml-wm-form-element-wraper">
				<div class="ml-wm-form-element required dropdown-arrow">
				<label for="creditCardExpiryMonth">Expiration Month</label>
				<select class="form-control"
						id = creditCardExpiryMonth
						name="creditCardExpiryMonth"
						ng-model="model.payment.creditCardExpiryMonth.selectedOption" aria-required="true">
					<option value="">&nbsp;</option>
					<option ng-repeat="option in model.payment.creditCardExpiryMonth.options" value="{{option.value}}" ng-selected="{{option.value == model.payment.creditCardExpiryMonth.selectedOption}}">{{option.label}}</option>
				</select>
		    </div>
		</div>
		<div class="ml-wm-form-element-wraper">
				<div class="ml-wm-form-element required dropdown-arrow">
				<select class="form-control" id="creditCardExpiryYear"
						name="creditCardExpiryYear"
						ng-model="model.payment.creditCardExpiryYear.selectedOption" aria-required="true">
					<option value="">&nbsp;</option>
					<option ng-repeat="option in model.payment.creditCardExpiryYear.options" value="{{option.value}}" ng-selected="{{option.value == model.payment.creditCardExpiryYear.selectedOption}}">{{option.label}}</option>
				</select>
				<label for="creditCardExpiryYear">Expiration Year</label>
			</div>
		</div>
	</div>
</div>
</div>
</div>
		<div ng-if="model.shipping.visaCheckoutOrder">
			<input id="paypalCheckoutSelected" name="paypalCheckoutSelected" value="VISA_CHECKOUT_YES" type="hidden" value=""/></div>

		<div class="ml-accordion-sub-label margin-top-30">Billing Address:</div>
		 
		<div>
			
			<div ng-show="model.basketItems.length-model.pickupInStore.storeCount > 0">
				<div class="form-group ml-wm-billing-wrapper">
				<label class="inputRadio">
					<input id="SAME_AS_SHIPPING" type="radio" name="billingStyle" value="SAME_AS_SHIPPING" ng-model="model.payment.attributeMap['billingStyle']"/>
					<div><i class="ml-icon-lib"></i>Use shipping address</div></label><br><br>
					<label class="inputRadio"><input id="BILLING_DIFFERENT" type="radio" name="billingStyle" value="BILLING_DIFFERENT" ng-model="model.payment.attributeMap['billingStyle']"/>
							<div><i class="ml-icon-lib"></i>Use different address</div></label>						
						</div>
				<input id="newAddress" name="newAddress" ng-value="(isGuest() &amp;&amp; model.payment.attributeMap[&#39;billingStyle&#39;]==&#39;BILLING_DIFFERENT&#39;) || addNewBillingAddress" type="hidden" value="false"/></div>

		<div ng-switch on="model.payment.attributeMap['billingStyle']">
				<div ng-switch-when="BILLING_DIFFERENT">
					<div class="ml-shipto-addresses ml-shipping-subsection" ng-show="model.shipping.addresses.options.length > 0">
						<div id="addressbooklist" class="form-group col-md-12">
							 <div class="pagination-content">
								<div class="ml-shipto-address-block col-md-6" ng-show="!isGuest()" ng-repeat="address in model.shipping.addresses.options track by $index">
									<div>
										<div  class="features" ng-class="{'inValidAddress':!address.valid}" ng-bind-html='trustAsHtmlString(address.label)'></div>
										<div ng-if="address.valid">
											<label>
												<input id="selectedBillContact1" name="selectedBillContact" ng-model="model.shipping.attributeMap[&#39;billContactId&#39;]" ng-click="hideAddNewBillingAddress()" type="radio" value="{{address.value}}"/><div><i class="ml-icon-lib"></i><span>Use This Address</span></div>
											</label>
										</div>	
										<div ng-if="!address.valid">
											<label>
												<div class="allowEdit"><span style="cursor:pointer" ng-click="showEditContact($event,'editBillAddressForm',address.value,'false')">Complete this address and Use</span></div>
											</label>
										</div>
									</div>
								</div>
								 <div class="clearfix"></div>
							</div>
						</div>
						<div class="ml-shipto-address-pagination" addresses="{{model.shipping.addresses.options.length}}" ng-show="model.shipping.addresses.attributeMap['noOfPages'] > 1">
							<span class="ml-icon-lib pagination-left" ng-click="prevBillingAddressPage()"></span> {{billingAddressCurrentPage}} of {{model.shipping.addresses.attributeMap['noOfPages']}}&nbsp;<span class="ml-icon-lib pagination-right" ng-click="nextBillingAddressPage()"></span> 
						</div>
					</div>
					<div ng-show="!isGuest() || model.shipping.addresses.options.length == 0">
						<label for="addNewAddress" class="ml-new-address" >
						<input type="radio" name="selectedBillContact" value="-1" ng-hide="true" ng-model="model.shipping.attributeMap['billContactId']">
						<a href="javascript:void(0);"  ng-click="setShowAddNewBillingAddress()" id="addBillAddressLink">
							Enter a New Address&nbsp;<span class="glyphicon ml-icon ml-icon-plus"></span>
						</a>
						</label>
					</div>
					
						<div class="ml-checkout-billing" ng-show="isGuest() || showAddNewBillingAddress()"> 
							 <div class="ml-wm-form-container">
<input type="hidden" id="isAddressChanged" name="isAddressChanged" value="false" />
<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="billingForm.firstName" name="billingForm.firstName" class="form-control" type="text" value="" size="20" maxlength="40"/><label for="billingForm.firstName">
				First Name</label>
		</div>
	</div>



<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="billingForm.lastName" name="billingForm.lastName" class="form-control" type="text" value="" size="17" maxlength="40"/><label for="billingForm.lastName">
				Last Name</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="billingForm.streetAddress" name="billingForm.streetAddress" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="billingForm.streetAddress">
				Address Line 1</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
	<div class="ml-wm-form-element">
		<input id="billingForm.streetAddressOptional" name="billingForm.streetAddressOptional" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="billingForm.streetAddressOptional">
			Address Line 2 (Apt #, Floor, Suite)</label>
		
	</div>
	<div class="ml-checkout-pobox">
				<input id="billingForm.postOfficeBox1" name="billingForm.postOfficeBox" type="checkbox" value="true"/><input type="hidden" name="_billingForm.postOfficeBox" value="on"/><label for="billingForm.postOfficeBox1">This is a PO Box</label>
			</div>
		</div>
</div>

<div class="ml-wm-form-row">
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
			<input id="billingForm.city" name="billingForm.city" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="billingForm.city">
				City</label>
		</div>
	</div>

<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required dropdown-arrow">
	<div ng-show="showBorderFreeRegion(false,false,'US','#addressForm #region')" id="boderFreeregionTextState" >
			<input id="billingForm.region" name="billingForm.region" class="form-control" type="text" value="" size="35" maxlength="50"/><label for="billingForm.region">
			Region</label>
	</div>
	<div ng-show="showBorderFreeStateMenu(false,false,'US','#addressForm #state','#addressForm #country')" id="boderFreeregionMenuState" >
			
			<select id="state" name="billingForm.state" class="form-control" onchange="MarketLive.Base.countrySet(this);"><option value="">&nbsp;<!-- Select A State --></option>
						<option value="US/AL">AL-Alabama</option><option value="US/AK">AK-Alaska</option><option value="US/AZ">AZ-Arizona</option><option value="US/AR">AR-Arkansas</option><option value="US/CA">CA-California</option><option value="US/CO">CO-Colorado</option><option value="US/CT">CT-Connecticut</option><option value="US/DE">DE-Delaware</option><option value="US/DC">DC-District of Columbia</option><option value="US/FL">FL-Florida</option><option value="US/GA">GA-Georgia</option><option value="US/HI">HI-Hawaii</option><option value="US/ID">ID-Idaho</option><option value="US/IL">IL-Illinois</option><option value="US/IN">IN-Indiana</option><option value="US/IA">IA-Iowa</option><option value="US/KS">KS-Kansas</option><option value="US/KY">KY-Kentucky</option><option value="US/LA">LA-Louisiana</option><option value="US/ME">ME-Maine</option><option value="US/MD">MD-Maryland</option><option value="US/MA">MA-Massachusetts</option><option value="US/MI">MI-Michigan</option><option value="US/MN">MN-Minnesota</option><option value="US/MS">MS-Mississippi</option><option value="US/MO">MO-Missouri</option><option value="US/MT">MT-Montana</option><option value="US/NE">NE-Nebraska</option><option value="US/NV">NV-Nevada</option><option value="US/NH">NH-New Hampshire</option><option value="US/NJ">NJ-New Jersey</option><option value="US/NM">NM-New Mexico</option><option value="US/NY">NY-New York</option><option value="US/NC">NC-North Carolina</option><option value="US/ND">ND-North Dakota</option><option value="US/OH">OH-Ohio</option><option value="US/OK">OK-Oklahoma</option><option value="US/OR">OR-Oregon</option><option value="US/PA">PA-Pennsylvania</option><option value="US/RI">RI-Rhode Island</option><option value="US/SC">SC-South Carolina</option><option value="US/SD">SD-South Dakota</option><option value="US/TN">TN-Tennessee</option><option value="US/TX">TX-Texas</option><option value="US/UT">UT-Utah</option><option value="US/VT">VT-Vermont</option><option value="US/VA">VA-Virginia</option><option value="US/WA">WA-Washington</option><option value="US/WV">WV-West Virginia</option><option value="US/WI">WI-Wisconsin</option><option value="US/WY">WY-Wyoming</option></select><label for="billingForm.state">
					Select State</label>
			</div>
		</div>
	</div>


<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
		<input id="postalCode" name="billingForm.zipPostal" class="form-control" onchange="addressChanged();" type="text" value="" size="10" maxlength="10"/><label for="billingForm.zipPostal">
			Zip Code</label>
	</div>
</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='WE ONLY SHIP TO U.S. ADDRESSES AT THIS TIME' data-trigger="focus"><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
	<div id="boderFreeregionMenuCoun" style="display:none">
		<select id="country" name="billingForm.country" class="form-control" onchange="MarketLive.Base.stateSet(this,false);MarketLive.Base.phoneValidationReset(this)"><option value="">&nbsp;</option>
				<option value="US">US-United States</option></select></div>
	<input type="text" size="208" value="US-United States" readonly="true" id="countryText" class="form-control"/>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for your Phone Number only so we can communicate with you about your order.' data-trigger="focus"><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
        <input id="billingForm.dayPhone" name="billingForm.dayPhone" type="tel" class="form-control" value="" size="12" maxlength="20"/><label class="control-label">
		Phone</label>
</div>
</div>
</div>

<div class="ml-wm-form-row ">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for Email only so we can communicate with you about your order.' data-trigger="focus"><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
		<label for="billingForm.emailAddress">Email for Order Confirmation</label>
			<input id="billingForm.emailAddress" name="billingForm.emailAddress" type="email" class="form-control" value="" size="35" maxlength="100"/>(must be accurate for us to send your order confirmation)</div>
	</div>
	</div>
</div>
<input type="hidden" name="addNewAddress" ng-value="addNewShippingAddress"/>
							<input type="hidden" id="suggestedAddress" name="suggestedAddress" value="" />

							<div class="form-group" ng-if="!isGuest()">
								<div class="control-label-content ml-billing-email-signup">
									<label for="saveToAddressBook"><input id="saveToAddressBook" name="saveToAddressBook" type="checkbox" value="true"/><input type="hidden" name="_saveToAddressBook" value="on"/><div><i class="ml-icon-lib"></i><span>Save this to my address book</span></div></label>
								</div>
							</div>

						
							<div class="ml-billing-button-clearFix"></div>
						</div>					
				</div>

				<div ng-switch-default>
					</div>

			</div>
		</div>

		<div class="ml-checkout-emailSignup ">
			<label for="eSignup"><input id="eSignup" name="emailSignup" type="checkbox" value="true" checked="checked"/><input type="hidden" name="_emailSignup" value="on"/><div>
					<i class="ml-icon-lib"></i><span>Sign me up for World Market email updates</span>
				</div>
			</label>
		</div>

		<div class="ml-wm-promocode">
	<span ng-init="isCollapsedGC = true">
		<a id="promoCodeLink" style="cursor:pointer;" data-target="#promoCodeDetails" data-toggle="collapse" ng-click="isCollapsedGC = !isCollapsedGC">
		ENTER A COUPON OR PROMO CODE&nbsp;<span ng-class="{'glyphicon ml-icon ml-icon-plus': isCollapsedGC, 'glyphicon ml-icon ml-icon-minus': !isCollapsedGC}"></span>
		</a>
	</span>
</div>
<div id="promoCodeDetails" class="collapse ml-wm-giftcard-custom">
	<!-- <div class="ml-payment-gc-wrapper"> -->
	<div>
		<!-- <div class="ml-checkout-sub-header">Have a Coupon Code?</div>
			<div class="ml-payment-coupon-msg">Coupon Code</div> -->
		<div class="ml-gift-code-button">
			<div class="ml-wm-form-container-gift">
				<div class="ml-wm-form-row">
					<div class="ml-wm-form-element-wraper">
						<div class="ml-wm-form-element  ">
							<!-- <div class="ml-payment-coupon-text"> -->
							<div>
								<input type="text" name="sourceCode" id="sourceCode" aria-label="Source Code" class="form-control" ng-model="model.payment.paymentSourceCode" size="20" maxlength="30" ng-value="model.payment.paymentSourceCode"/>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="ml-payment-source-code-apply ml-payment-gc-apply">
				<a href="javascript:void(0);" ng-click="!model.payment.paymentSourceCode || postData({'method':'applySourceCode','data':'sourceCode='+model.payment.paymentSourceCode})" class="ml-button-submit-primary" tabindex="0">Apply</a>
			</div>			
		</div>

			
				  
			<div id="couponSuccess" class="couponSuccessMessage"></div>
			<!--  DISPLAY applied source code-->
		<div id="loadInitData">
		 <div id="codeApplied" class="promoCodeText clearfix">						  
				</div>
	</div>

<div ng-if="newSourceCode != null">
	<div class="codeApplied_Header" ng-if="!isEmpty(newSourceCode)">Code Applied</div>
	 <span ng-repeat="(key,value) in newSourceCode">
		<div class='sourcecodeitem' id='sourcecodeitem_{{key}}'>
			<span>{{key}}</span> <a data-target="#idPromoCodeDialog_{{key}}" data-toggle="modal" href="#">details</a>
						<!-- WSUP-164 Description Content Here -->
				<div id="idPromoCodeDialog_{{key}}" class="modal fade" role="dialog">
					<div class="modal-dialog"><!-- Modal content-->
					  <div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">Ã—</button>
							<h4 class="modal-title">{{key}}</h4>
						</div><div class="modal-body"><span class='modal-body' ng-bind-html='decodeSpecialCharToHtml(value)'></span>
							</div>
					  </div>	
					 </div>
				</div><!-- WSUP-164 Description Content END Here -->
				<a class="codeRemove" ng-click="removeSourceCode(key);" href="javascript:void(0)">remove</a>
		</div>
	 </span>
</div>
			<!--  DISPLAY applied source code-->
    </div>
</div>
<div class="ml-payment-continue-button">
			<input id="btnContinuePaymentForm"  name="ContinuePaymentForm" class="ml-button-submit-primary" type="submit" value='Continue To Order Review'	ng-click="submitStep($event, 4)"/>
		</div>
		</div>
	
		 <div class="ml-modal modal fade" id="payfedexSuggestedAddrModal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><br><br>
			<div id="payaccSuggestedAddressDiv" class="suggestedAddressPopup" style="display:none;z-index:5001;padding:20px;height:330px;">
			<div>The US Postal Service matched the address you entered to the suggested address on the right. <strong>Please choose either the suggested address, or the address as you originally entered, and click Continue.</strong></div>
			<div id="paynotfoundmsg" style="display:none;">Unfortunately we could not validate this address. Please select an option below.</div>
			<div><html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="1" height="40" border="0" />
			</div>
			<div class="seggestionTable">
				<div class="suggestionTD">
					<div id="payoriginalAddRadioDiv" style="display:none;">					
					<label><span class="accColorsubheader" style="font-size:12px;font-weight:bold;">
						Originally Entered Address:<html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="50" height="1" border="0" /></span>
					</label>
					</div>
					<div id="payoriginalAddDiv" style="display:none;">
						<input type="radio" name="rdPayAddress"  aria-label="Source Code" value="OAddress" />
						<div class="ml-address-options">
							<span id="payoriginalAdd1"></span><br/>
							<div style="display:none;" id="payoriginalAdd2"><br/></div>
							<span id="payoriginalCity"></span><br/>
							<span id="payoriginalState"></span>, <span id="payoriginalZip"></span><br>
						</div>
					</div> 
				</div>
				<div class="suggestionTD">
					<div id="paysuggestedAddRadioDiv" style="display:none;">
					
					<label><span class="accColorsubheader"  style="font-size:12px;font-weight:bold;">
						Suggested Address:<html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="50" height="1" border="0" /></span>
					</label>
					</div>
					<div id="paysuggestedAddDiv" style="display:none;">
					<input type="radio" name="rdPayAddress" aria-label="Source Code" value="SAddress" checked="checked"/>
					<div class="ml-address-options">
						<div id="paysuggestedAdd1" name="suggestedAdd1"></div>
						<div id="paysuggestedAdd2"></div>
						<span id="paysuggestedCity"></span><br/>
						<span id="paysuggestedState"></span>, <span name="suggestedZip" id="paysuggestedZip"></span><br/><br/>
					</div>
					</div>  
				</div>					
			</div>
			<div><html:img src="/images/worldmarket/en_us/global/globalgraphics/spacer01.gif" width="1" height="10" border="0" /></div>
			 
			<div class="ml-billing-button pull-left">
				<input type="button"
				   id="btnContinueBillingForm"
				   name="ContinueBillingForm"
				   class="ml-button-submit-primary"
				   type="submit"
				   value="Use this address"
				   ng-click="fedexSubmitStep($event, 4)"/>
			</div>
						
			<div id="otherbuttons" style="display:none;" class="pull-right">
				<div class="ml-billing-button">
					<input type="button"
					id="btnContinueBillingForm"
					name="ContinueBillingForm"
					class="ml-button-submit-primary"
					type="submit"
					value="Change Address"
					ng-click="fedexChangeAddrStep($event, 4)"/>
				</div>
			</div>
			</div>
			</div></div></div></form><div class="ml-edit-contact-modal ml-modal modal fade in" tabindex="-1" role="dialog" aria-hidden="false">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="closeButton" data-dismiss="modal"></div>
			<div class="modal-header">
	<div class="ml-modal-title">
		<div class="modal-title"></div>
			<button type="button" class="ml-modal-close ml-icon-lib ml-icon-remove" data-dismiss="modal" tabindex="0" aria-label="Close Window"></button>
	</div>
</div>
<div class="modal-body">
<div id="editContactContainer">
	<div class="wm-header">Complete Address</div>
	<div class="editAlert">Please complete the following information marked with an arrow</div>
	<div id="editContactError" style="display:none" class="alert alert-warning alert-dismissable"></div>
	<div>
	 <form id="editBillAddressForm" action="/accordion/editContact.do?method=submit" method="post" onsubmit="return false"><input type="hidden" name="contactId" id="contactId" value=""/>
		<input type="hidden" name="isShipping" id="isShipping" value=""/>
		<div><div class="ml-wm-form-container">
<input type="hidden" id="isAddressChanged" name="isAddressChanged" value="false" />
<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="firstName" name="firstName" class="form-control" type="text" value="" size="20" maxlength="40"/><label for="firstName">
				First Name</label>
		</div>
	</div>



<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="lastName" name="lastName" class="form-control" type="text" value="" size="17" maxlength="40"/><label for="lastName">
				Last Name</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
		<div class="ml-wm-form-element required">
			<input id="streetAddress" name="streetAddress" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="streetAddress">
				Address Line 1</label>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-wm-form-element-wraper">
	<div class="ml-wm-form-element">
		<input id="streetAddressOptional" name="streetAddressOptional" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="streetAddressOptional">
			Address Line 2 (Apt #, Floor, Suite)</label>
		
	</div>
</div>
</div>

<div class="ml-wm-form-row">
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
			<input id="city" name="city" class="form-control" onchange="addressChanged();" type="text" value="" size="35" maxlength="50"/><label for="city">
				City</label>
		</div>
	</div>

<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required dropdown-arrow">
	<div ng-show="showBorderFreeRegion(false,false,'US','#addressForm #region')" id="boderFreeregionTextState" >
			<input id="region" name="region" class="form-control" type="text" value="" size="35" maxlength="50"/><label for="region">
			Region</label>
	</div>
	<div ng-show="showBorderFreeStateMenu(false,false,'US','#addressForm #state','#addressForm #country')" id="boderFreeregionMenuState" >
			
			<select id="state" name="state" class="form-control" onchange="MarketLive.Base.countrySet(this);"><option value="">&nbsp;<!-- Select A State --></option>
						<option value="US/AL">AL-Alabama</option><option value="US/AK">AK-Alaska</option><option value="US/AZ">AZ-Arizona</option><option value="US/AR">AR-Arkansas</option><option value="US/CA">CA-California</option><option value="US/CO">CO-Colorado</option><option value="US/CT">CT-Connecticut</option><option value="US/DE">DE-Delaware</option><option value="US/DC">DC-District of Columbia</option><option value="US/FL">FL-Florida</option><option value="US/GA">GA-Georgia</option><option value="US/HI">HI-Hawaii</option><option value="US/ID">ID-Idaho</option><option value="US/IL">IL-Illinois</option><option value="US/IN">IN-Indiana</option><option value="US/IA">IA-Iowa</option><option value="US/KS">KS-Kansas</option><option value="US/KY">KY-Kentucky</option><option value="US/LA">LA-Louisiana</option><option value="US/ME">ME-Maine</option><option value="US/MD">MD-Maryland</option><option value="US/MA">MA-Massachusetts</option><option value="US/MI">MI-Michigan</option><option value="US/MN">MN-Minnesota</option><option value="US/MS">MS-Mississippi</option><option value="US/MO">MO-Missouri</option><option value="US/MT">MT-Montana</option><option value="US/NE">NE-Nebraska</option><option value="US/NV">NV-Nevada</option><option value="US/NH">NH-New Hampshire</option><option value="US/NJ">NJ-New Jersey</option><option value="US/NM">NM-New Mexico</option><option value="US/NY">NY-New York</option><option value="US/NC">NC-North Carolina</option><option value="US/ND">ND-North Dakota</option><option value="US/OH">OH-Ohio</option><option value="US/OK">OK-Oklahoma</option><option value="US/OR">OR-Oregon</option><option value="US/PA">PA-Pennsylvania</option><option value="US/RI">RI-Rhode Island</option><option value="US/SC">SC-South Carolina</option><option value="US/SD">SD-South Dakota</option><option value="US/TN">TN-Tennessee</option><option value="US/TX">TX-Texas</option><option value="US/UT">UT-Utah</option><option value="US/VT">VT-Vermont</option><option value="US/VA">VA-Virginia</option><option value="US/WA">WA-Washington</option><option value="US/WV">WV-West Virginia</option><option value="US/WI">WI-Wisconsin</option><option value="US/WY">WY-Wyoming</option></select><label for="state">
					Select State</label>
			</div>
		</div>
	</div>


<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
		<input id="postalCode" name="zipPostal" class="form-control" onchange="addressChanged();" type="text" value="" size="10" maxlength="10"/><label for="zipPostal">
			Zip Code</label>
	</div>
</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='WE ONLY SHIP TO U.S. ADDRESSES AT THIS TIME' data-trigger="focus"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
	<div id="boderFreeregionMenuCoun" style="display:none">
		<select id="country" name="country" class="form-control" aria-label="Source Code" onchange="MarketLive.Base.stateSet(this,false);MarketLive.Base.phoneValidationReset(this)"><option value="">&nbsp;</option>
				<option value="US" selected="selected">US-United States</option></select></div>
	<input type="text" size="208" value="US-United States" readonly="true" id="countryText" class="form-control"/>
		</div>
	</div>
</div>

<div class="ml-wm-form-row">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for your Phone Number only so we can communicate with you about your order.' data-trigger="focus"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
        <input id="dayPhone" name="dayPhone" type="tel" class="form-control" value="" size="12" maxlength="20"/><label class="control-label">
		Phone</label>
</div>
</div>
</div>

<div class="ml-wm-form-row ">
	<div class="ml-help-icon"><a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content='We ask for Email only so we can communicate with you about your order.' data-trigger="focus"><span class="ada-empty-link">help icon</span><span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a></div>
		<div class="ml-wm-form-element-wraper">
			<div class="ml-wm-form-element required">
		<label for="emailAddress">Email for Order Confirmation</label>
			<input id="emailAddress" name="emailAddress" type="email" class="form-control" value="" size="35" maxlength="100"/>(must be accurate for us to send your order confirmation)</div>
	</div>
	</div>
</div>
</div>
		<div class="ml-text-right margin-top-20">
			<a href="javascript:;" data-dismiss="modal" class="cancelBTN">Cancel</a>
			&nbsp;&nbsp;&nbsp;&nbsp;
			<button type="submit" id="accountSubmit" ng-click="submitEditContact($event,'editBillAddressForm')" class="ml-button-submit-primary">COMPLETE AND USE THIS ADDRESS</button>
		</div>
		</form></div>
</div>
</div>

</div>
	</div>
</div></div>
</li>
<li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(5),
    'ml-accordion-step-collapsed':isStepCollapsed(5),
    'ml-accordion-step-no-uc':!isUserCollapsible(5),
    'ml-accordion-step-hidden':isStepHidden(5)}" ng-show ="true">
    
	<div ng-show ="isStepCollapsed(5)">
		<h2 ng-click="toggleStepCollapse(5)">
    <span>
        <span>{{getStepHeading(5)}}</span>
    </span>
    <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(5) && isStepCollapsed(5))" tabindex="0">Edit</span>
</h2>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[5].collapsed" collapse="isStepCollapsed(5)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(5)">
    <div ng-repeat="alert in getStepAlertData(5)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<div class="ml-checkout-review-container">
    <form>
	   <div class="ml-checkout-review-wrapper">
        <div>
			<div class="ml-checkout-review-row " ng-show="model.shipping.shippableItems.length > 0">
				<div class="row">
					<div class="col-xs-12">
						<div class="ml-review-header"  >
							<div >
								Shipping ({{model.shipping.shippableItems.length}} Items)</div>
						</div>
					</div>

				</div>


			 <div class="ml-accordion-shipment ml-wm-review-basket-item" ng-repeat="shipmentModel in model.shipping.shipments track by $index">
					
					<div class="row">
						<div class="header-item">
							<div class="col-md-6 col-sm-6 col-xs-4">PRODUCT DETAILS</div>
							<div class="col-md-2 col-sm-2 col-xs-2 ">QTY</div>
							<div class="col-md-2 col-sm-2 col-xs-2">PRICE</div>
							<div class="col-md-2 col-sm-2 col-xs-4">TOTAL</div>
						</div>
					</div>
					<div class="row">
						<div class="ml-accordion-basket-item " ng-repeat="shippingItemModel in shipmentModel.items">
							<div class="col-md-6 col-sm-6 col-xs-4">
								<div class="ml-accordion-img-thumb">

								<span ng-if="shippingItemModel.basketItem.image && shippingItemModel.basketItem.image.indexOf('_v') == -1">
								<img alt="{{shippingItemModel.basketItem.description}}" class="ml-responsive-thumbnail" ng-src="{{shippingItemModel.basketItem.image.replace('.tif','_v1.tif')}}">
							</span>
								
								<span ng-if="shippingItemModel.basketItem.image && shippingItemModel.basketItem.image.indexOf('_v') > -1">
								<img alt="{{shippingItemModel.basketItem.description}}" class="ml-responsive-thumbnail" ng-src="{{shippingItemModel.basketItem.image}}">
							   </span>
								
								</div>
								
								
								<div class="detail">
											 <div class="item-desc">
										<div class="item-name">{{shippingItemModel.basketItem.description}}</div>
										<div class="item-code">{{shippingItemModel.basketItem.code.label}} {{shippingItemModel.basketItem.code.value}}</div>
									</div>

									<div class="item-options">
										<div ng-repeat="skuOption in shippingItemModel.basketItem.skuOptions">
											<span>{{skuOption.label}}:</span>
											<span>{{skuOption.value}}</span>
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-2 col-sm-2 col-xs-2">
								<div class="item-qty">
									<div class="item-value">{{shippingItemModel.basketItem.qty.value}}</div>
								</div>
							</div>
							<div class="col-md-2 col-sm-2 col-xs-2">
									<div ng-show="shippingItemModel.basketItem.price.free">
										Free Gift</div>
									<div ng-hide="shippingItemModel.basketItem.price.free">
										
										{{shippingItemModel.basketItem.price.original}}

										<div class="item-discounts" ng-show="shippingItemModel.basketItem.price.discounted">
											<div class="item-totalDiscount-value">-{{shippingItemModel.basketItem.price.totalDiscount}}</div>
										</div>
									</div>
							</div>
							<div class="col-md-2 col-sm-2 col-xs-4">
								<div class="item-value total-value-item">{{shippingItemModel.basketItem.price.subTotal}}</div>
							</div>
							<div class="ml-shipping-gift-options ml-shipping-subsection"
									 ng-class="{'ml-shipping-gift-options-applied': shippingItemModel.attributeMap['basketItemGiftMessage'].applied}" >
									<div id="gocontent">
										<div class="ml-shipping-gift-options-applied-display">
											<div ng-repeat="giftItem in shippingItemModel.attributeMap['basketItemGiftMessage'].applied">
												<div class="ml-shipping-gift-options-applied-display-message" ng-show="giftItem.message">
													<div><strong>Gift Message:</strong></div>
													<div>{{giftItem.message}}</div>
												</div>
												<div class="ml-shipping-gift-options-applied-display-items" ng-show="giftItem.items.length > 0">
													<span class="ml-shipping-gift-type-label">{{giftItem.giftTypeLabel}}</span>
													<div class="ml-shipping-gift-items" ng-repeat="wrapItem in giftItem.items">
														<span class="ml-shipping-gift-wrap-value">{{wrapItem.value}}</span><span class="ml-shipping-gift-wrap-label">{{wrapItem.label}}</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
					</div>
					<div class="row">
						<div class="col-md-4 col-sm-5 col-xs-5">
							<div class="ml-summary-header">Shipping Address</div>
							
							<div ng-if="!shipmentModel.attributeMap['isEGiftCertificateShipment']" ng-repeat="detail in shipmentModel.contact.details track by $index">
								<div ng-if="detail !='null'">{{detail}}</div>
							</div>		
							
							<div class="ml-accordion-basket-item " ng-repeat="shippingItemModel in shipmentModel.items">
								<div class="ml-product-personalization" ng-show="shippingItemModel.basketItem.personalizations">
										<div class="ml-product-personalization-link" ng-repeat="personalization in shippingItemModel.basketItem.personalizations" ng-if="personalization.label ==  'Recipient Email'">{{personalization.label}}:{{personalization.value}}</div>
								</div>
							</div>

						</div>
						<div  class="col-md-4 col-sm-5 col-xs-5">
							<div class="ml-summary-header">Shipping Method</div>
							<div>{{shipmentModel.attributeMap['shippingMethodDescription']}}</div>
							<div ng-if="!shipmentModel.attributeMap['isEGiftCertificateShipment']">{{shipmentModel.attributeMap['shipmentArrivalDate']}}</div>
						</div>
						<div class="col-md-4 col-sm-2 col-xs-2 text-right">
												<div ng-click="toggleStepCollapse(0)">
								<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(0) && isStepCollapsed(0))">
									Edit</span>
							</div>	
						</div>
					</div>
			</div>
		</div>
			<div class="ml-checkout-review-row ml-wm-review-basket-item" ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom">
			<div class="row">
				<div class="col-xs-12">
					<div class="ml-review-header">
							Items to Pickup ({{storeToPickItemsFrom.pickupItems.length}} Item)</div>
				</div>

		</div>
		<div class="row">
				<div  ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom">
					<div>
						<div class="col-md-4 col-sm-5">
							<div class="pull-left">
								<h5 class="ml-summary-header">PICKUP LOCATION</h5>
								<div>
									<div>{{storeToPickItemsFrom.name}}</div>
									<div>{{storeToPickItemsFrom.street1}}</div>
									<div>{{storeToPickItemsFrom.street2}}</div>
									<div>{{storeToPickItemsFrom.street3}}</div>
									<div>{{storeToPickItemsFrom.city}},&nbsp;{{storeToPickItemsFrom.state}}&nbsp;{{storeToPickItemsFrom.zipCode}}</div>
									<div>{{storeToPickItemsFrom.countryCode}}</div>
									<div>{{storeToPickItemsFrom.phone}}</div>
								</div>
							</div>
							<div ng-click="toggleStepCollapse(3)" class="hidden-md hidden-sm hidden-lg pull-right">
								<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(3) && isStepCollapsed(3))">
									Edit</span>
							</div>
						</div>
						<div class="col-md-4 col-sm-5">
							<h5 class="ml-summary-header">ORDER CONFIRMATION EMAIL</h5>
							<div >{{storeToPickItemsFrom.pickupContact.emailAddress}}</div>

								<h5 class="ml-summary-header">PICKUP BY</h5>
								<div ng-show="storeToPickItemsFrom.pickupContact.firstName == null">
									<label class="control-label">
										I will pickup the item(s)</label>
								</div>
								<div ng-show="storeToPickItemsFrom.pickupContact.firstName != null">
									<label class="control-label">
										<div>{{storeToPickItemsFrom.pickupContact.firstName}} {{storeToPickItemsFrom.pickupContact.lastName}}</div>
										<div>{{storeToPickItemsFrom.pickupContact.mobilePhone}}</div>
									</label>
								</div>
								<div class="ml-summary-header">
								 PICKUP IN STORE {{storeToPickItemsFrom.attributeMap['estimatedArrivalDate']}}
								<div ng-if="storeToPickItemsFrom.attributeMap['estimatedArrivalDate']=='Today'">(if ordered before 5pm)</div>
								</div>
								
						</div>
						<div class="col-md-4 col-sm-2 col-xs-2 text-right hidden-xs">
							<div ng-click="toggleStepCollapse(3)">
								<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(3) && isStepCollapsed(3))">
									Edit</span>
							</div>	
						</div>
					</div>
				</div>
		</div>
			
		<div class="row">
				 <div class="header-item">
					<div  class="col-md-6 col-sm-6 col-xs-4">PRODUCT DETAILS</div>
					<div  class="col-md-2 col-sm-2 col-xs-2">QTY</div>
					<div  class="col-md-2 col-sm-2 col-xs-2">PRICE</div>
					<div  class="col-md-2 col-sm-2 col-xs-4">TOTAL</div>
				 </div>
		</div>
		<div class="row">
			<div ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom">
				<div  class="ml-rev-pickup-item " ng-repeat="pickupItem in storeToPickItemsFrom.pickupItems">
					<div  class="col-md-6 col-sm-6 col-xs-4">
						<div class="ml-accordion-img-thumb">
							<img alt="{{pickupItem.productName}}" class="ml-responsive-thumbnail" ng-src="{{pickupItem.attributeMap['basketItem'].image}}">
						</div>
					   <div class="detail" >
							 <div class="item-desc">
								<div class="item-name">{{pickupItem.productName}}</div>
								<div class="item-code">{{pickupItem.skuCode}}</div>
							</div>

							<div ng-repeat="skuOption in pickupItem.skuOptions">{{skuOption}}</div>
							
							<div class="ml-product-personalization" ng-show="pickupItem.personalizations">
								<div class="ml-product-personalization-header">Personalization:</div>
								<div>
									<div class="ml-product-personalization-link" ng-repeat="personalization in pickupItem.personalizations">{{personalization.label}}:{{personalization.value}}</div>
								</div>
							</div>

					   </div>
					</div>
							<div  class="col-md-2 col-sm-2 col-xs-2">
						<div class="item-qty">
							<div class="item-value">{{pickupItem.attributeMap['basketItem'].qty.value}}</div>
						</div>
					</div>
					<div class="col-md-2 col-sm-2 col-xs-2">
							<div ng-show="shippingItemModel.basketItem.price.free">
								Free Gift</div>
							<div ng-hide="shippingItemModel.basketItem.price.free">
								
								{{pickupItem.attributeMap['basketItem'].price.original}}

								<div class="item-discounts" ng-show="shippingItemModel.basketItem.price.discounted">
									<div class="item-totalDiscount-value">-{{pickupItem.attributeMap['basketItem'].price.totalDiscount}}</div>
								</div>
							</div>
					</div>
					<div class="col-md-2 col-sm-2 col-xs-4">
						<div class="item-value total-value-item">{{pickupItem.attributeMap['basketItem'].price.subTotal}}</div>
					</div>
				</div>
			</div>
		</div>
			

		</div>
			<div class="ml-checkout-review-row">
			<div class="row">
				<div class="col-xs-12">
					<div class="ml-review-header" >
						Payment & Billing</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-4 col-sm-5 col-xs-12 ">
					<div class="ml-summary-group pull-left" ng-repeat="group in getStepSummary(1)">
						<div class="ml-summary-header">Billing Address</div>
						<div class="ml-summary-group-value" ng-repeat="item in group.values track by $index">
							{{item}}
						</div>
					</div>
					<div ng-click="toggleStepCollapse(4)" class="hidden-sm hidden-md hidden-lg pull-right">
						<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(4) && isStepCollapsed(4))">
							Edit</span>
					</div>		
				</div>
				<div  class="col-md-4 col-sm-5 col-xs-12">
					<div class="ml-summary-group" ng-repeat="group in getStepSummary(4)">
						<div class="ml-summary-header">Payment Method</div>
						<div class="ml-summary-group-value" ng-repeat="item in group.values track by $index">
							{{item}}
						</div>
					</div>
				</div>

				<div class="col-md-4 col-sm-2 col-xs-2 text-right hidden-xs">
					<div ng-click="toggleStepCollapse(4)">
						<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(4) && isStepCollapsed(4))">
							Edit</span>
					</div>					
				</div>
			</div>
		</div>
				
		</div>


    </form>
</div>

</div>
</li>
</ol>
<ol class="ml-accordion-steps" ng-show ="!isStepCollapsed(5)">
	<li class="ml-accordion-step ml-accordion-step-" ng-class="{
    'ml-accordion-step-accessible':isStepAccessible(5),
    'ml-accordion-step-collapsed':isStepCollapsed(5),
    'ml-accordion-step-no-uc':!isUserCollapsible(5),
    'ml-accordion-step-hidden':isStepHidden(5)}" ng-show ="true">
    
	<div ng-show ="isStepCollapsed(5)">
		<h2 ng-click="toggleStepCollapse(5)">
    <span>
        <span>{{getStepHeading(5)}}</span>
    </span>
    <span class="ml-accordion-step-edit" ng-show="(isStepCompleted(5) && isStepCollapsed(5))" tabindex="0">Edit</span>
</h2>
</div>

    <div class="ml-accordion-step-content"  ml-scroll-to-expanded-step="model.steps[5].collapsed" collapse="isStepCollapsed(5)">
        <div class="ml-accordion-step-alerts" data-ng-show="stepHasAlertData(5)">
    <div ng-repeat="alert in getStepAlertData(5)">
        <div data-ml-step-alert data-ml-alert="alert"></div>
    </div>
</div>
<div class="ml-checkout-review-container">
    <form>
	   <div class="ml-checkout-review-wrapper">
        <div>
			<div class="ml-checkout-review-row " ng-show="model.shipping.shippableItems.length > 0">
				<div class="row">
					<div class="col-xs-12">
						<div class="ml-review-header"  >
							<div >
								Shipping ({{model.shipping.shippableItems.length}} Items)</div>
						</div>
					</div>

				</div>


			 <div class="ml-accordion-shipment ml-wm-review-basket-item" ng-repeat="shipmentModel in model.shipping.shipments track by $index">
					
					<div class="row">
						<div class="header-item">
							<div class="col-md-6 col-sm-6 col-xs-4">PRODUCT DETAILS</div>
							<div class="col-md-2 col-sm-2 col-xs-2 ">QTY</div>
							<div class="col-md-2 col-sm-2 col-xs-2">PRICE</div>
							<div class="col-md-2 col-sm-2 col-xs-4">TOTAL</div>
						</div>
					</div>
					<div class="row">
						<div class="ml-accordion-basket-item " ng-repeat="shippingItemModel in shipmentModel.items">
							<div class="col-md-6 col-sm-6 col-xs-4">
								<div class="ml-accordion-img-thumb">

								<span ng-if="shippingItemModel.basketItem.image && shippingItemModel.basketItem.image.indexOf('_v') == -1">
								<img alt="{{shippingItemModel.basketItem.description}}" class="ml-responsive-thumbnail" ng-src="{{shippingItemModel.basketItem.image.replace('.tif','_v1.tif')}}">
							</span>
								
								<span ng-if="shippingItemModel.basketItem.image && shippingItemModel.basketItem.image.indexOf('_v') > -1">
								<img alt="{{shippingItemModel.basketItem.description}}" class="ml-responsive-thumbnail" ng-src="{{shippingItemModel.basketItem.image}}">
							   </span>
								
								</div>
								
								
								<div class="detail">
											 <div class="item-desc">
										<div class="item-name">{{shippingItemModel.basketItem.description}}</div>
										<div class="item-code">{{shippingItemModel.basketItem.code.label}} {{shippingItemModel.basketItem.code.value}}</div>
									</div>

									<div class="item-options">
										<div ng-repeat="skuOption in shippingItemModel.basketItem.skuOptions">
											<span>{{skuOption.label}}:</span>
											<span>{{skuOption.value}}</span>
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-2 col-sm-2 col-xs-2">
								<div class="item-qty">
									<div class="item-value">{{shippingItemModel.basketItem.qty.value}}</div>
								</div>
							</div>
							<div class="col-md-2 col-sm-2 col-xs-2">
									<div ng-show="shippingItemModel.basketItem.price.free">
										Free Gift</div>
									<div ng-hide="shippingItemModel.basketItem.price.free">
										
										{{shippingItemModel.basketItem.price.original}}

										<div class="item-discounts" ng-show="shippingItemModel.basketItem.price.discounted">
											<div class="item-totalDiscount-value">-{{shippingItemModel.basketItem.price.totalDiscount}}</div>
										</div>
									</div>
							</div>
							<div class="col-md-2 col-sm-2 col-xs-4">
								<div class="item-value total-value-item">{{shippingItemModel.basketItem.price.subTotal}}</div>
							</div>
							<div class="ml-shipping-gift-options ml-shipping-subsection"
									 ng-class="{'ml-shipping-gift-options-applied': shippingItemModel.attributeMap['basketItemGiftMessage'].applied}" >
									<div id="gocontent">
										<div class="ml-shipping-gift-options-applied-display">
											<div ng-repeat="giftItem in shippingItemModel.attributeMap['basketItemGiftMessage'].applied">
												<div class="ml-shipping-gift-options-applied-display-message" ng-show="giftItem.message">
													<div><strong>Gift Message:</strong></div>
													<div>{{giftItem.message}}</div>
												</div>
												<div class="ml-shipping-gift-options-applied-display-items" ng-show="giftItem.items.length > 0">
													<span class="ml-shipping-gift-type-label">{{giftItem.giftTypeLabel}}</span>
													<div class="ml-shipping-gift-items" ng-repeat="wrapItem in giftItem.items">
														<span class="ml-shipping-gift-wrap-value">{{wrapItem.value}}</span><span class="ml-shipping-gift-wrap-label">{{wrapItem.label}}</span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
					</div>
					<div class="row">
						<div class="col-md-4 col-sm-5 col-xs-5">
							<div class="ml-summary-header">Shipping Address</div>
							
							<div ng-if="!shipmentModel.attributeMap['isEGiftCertificateShipment']" ng-repeat="detail in shipmentModel.contact.details track by $index">
								<div ng-if="detail !='null'">{{detail}}</div>
							</div>		
							
							<div class="ml-accordion-basket-item " ng-repeat="shippingItemModel in shipmentModel.items">
								<div class="ml-product-personalization" ng-show="shippingItemModel.basketItem.personalizations">
										<div class="ml-product-personalization-link" ng-repeat="personalization in shippingItemModel.basketItem.personalizations" ng-if="personalization.label ==  'Recipient Email'">{{personalization.label}}:{{personalization.value}}</div>
								</div>
							</div>

						</div>
						<div  class="col-md-4 col-sm-5 col-xs-5">
							<div class="ml-summary-header">Shipping Method</div>
							<div>{{shipmentModel.attributeMap['shippingMethodDescription']}}</div>
							<div ng-if="!shipmentModel.attributeMap['isEGiftCertificateShipment']">{{shipmentModel.attributeMap['shipmentArrivalDate']}}</div>
						</div>
						<div class="col-md-4 col-sm-2 col-xs-2 text-right">
												<div ng-click="toggleStepCollapse(0)">
								<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(0) && isStepCollapsed(0))">
									Edit</span>
							</div>	
						</div>
					</div>
			</div>
		</div>
			<div class="ml-checkout-review-row ml-wm-review-basket-item" ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom">
			<div class="row">
				<div class="col-xs-12">
					<div class="ml-review-header">
							Items to Pickup ({{storeToPickItemsFrom.pickupItems.length}} Item)</div>
				</div>

		</div>
		<div class="row">
				<div  ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom">
					<div>
						<div class="col-md-4 col-sm-5">
							<div class="pull-left">
								<h5 class="ml-summary-header">PICKUP LOCATION</h5>
								<div>
									<div>{{storeToPickItemsFrom.name}}</div>
									<div>{{storeToPickItemsFrom.street1}}</div>
									<div>{{storeToPickItemsFrom.street2}}</div>
									<div>{{storeToPickItemsFrom.street3}}</div>
									<div>{{storeToPickItemsFrom.city}},&nbsp;{{storeToPickItemsFrom.state}}&nbsp;{{storeToPickItemsFrom.zipCode}}</div>
									<div>{{storeToPickItemsFrom.countryCode}}</div>
									<div>{{storeToPickItemsFrom.phone}}</div>
								</div>
							</div>
							<div ng-click="toggleStepCollapse(3)" class="hidden-md hidden-sm hidden-lg pull-right">
								<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(3) && isStepCollapsed(3))">
									Edit</span>
							</div>
						</div>
						<div class="col-md-4 col-sm-5">
							<h5 class="ml-summary-header">ORDER CONFIRMATION EMAIL</h5>
							<div >{{storeToPickItemsFrom.pickupContact.emailAddress}}</div>

								<h5 class="ml-summary-header">PICKUP BY</h5>
								<div ng-show="storeToPickItemsFrom.pickupContact.firstName == null">
									<label class="control-label">
										I will pickup the item(s)</label>
								</div>
								<div ng-show="storeToPickItemsFrom.pickupContact.firstName != null">
									<label class="control-label">
										<div>{{storeToPickItemsFrom.pickupContact.firstName}} {{storeToPickItemsFrom.pickupContact.lastName}}</div>
										<div>{{storeToPickItemsFrom.pickupContact.mobilePhone}}</div>
									</label>
								</div>
								<div class="ml-summary-header">
								 PICKUP IN STORE {{storeToPickItemsFrom.attributeMap['estimatedArrivalDate']}}
								<div ng-if="storeToPickItemsFrom.attributeMap['estimatedArrivalDate']=='Today'">(if ordered before 5pm)</div>
								</div>
								
						</div>
						<div class="col-md-4 col-sm-2 col-xs-2 text-right hidden-xs">
							<div ng-click="toggleStepCollapse(3)">
								<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(3) && isStepCollapsed(3))">
									Edit</span>
							</div>	
						</div>
					</div>
				</div>
		</div>
			
		<div class="row">
				 <div class="header-item">
					<div  class="col-md-6 col-sm-6 col-xs-4">PRODUCT DETAILS</div>
					<div  class="col-md-2 col-sm-2 col-xs-2">QTY</div>
					<div  class="col-md-2 col-sm-2 col-xs-2">PRICE</div>
					<div  class="col-md-2 col-sm-2 col-xs-4">TOTAL</div>
				 </div>
		</div>
		<div class="row">
			<div ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom">
				<div  class="ml-rev-pickup-item " ng-repeat="pickupItem in storeToPickItemsFrom.pickupItems">
					<div  class="col-md-6 col-sm-6 col-xs-4">
						<div class="ml-accordion-img-thumb">
							<img alt="{{pickupItem.productName}}" class="ml-responsive-thumbnail" ng-src="{{pickupItem.attributeMap['basketItem'].image}}">
						</div>
					   <div class="detail" >
							 <div class="item-desc">
								<div class="item-name">{{pickupItem.productName}}</div>
								<div class="item-code">{{pickupItem.skuCode}}</div>
							</div>

							<div ng-repeat="skuOption in pickupItem.skuOptions">{{skuOption}}</div>
							
							<div class="ml-product-personalization" ng-show="pickupItem.personalizations">
								<div class="ml-product-personalization-header">Personalization:</div>
								<div>
									<div class="ml-product-personalization-link" ng-repeat="personalization in pickupItem.personalizations">{{personalization.label}}:{{personalization.value}}</div>
								</div>
							</div>

					   </div>
					</div>
							<div  class="col-md-2 col-sm-2 col-xs-2">
						<div class="item-qty">
							<div class="item-value">{{pickupItem.attributeMap['basketItem'].qty.value}}</div>
						</div>
					</div>
					<div class="col-md-2 col-sm-2 col-xs-2">
							<div ng-show="shippingItemModel.basketItem.price.free">
								Free Gift</div>
							<div ng-hide="shippingItemModel.basketItem.price.free">
								
								{{pickupItem.attributeMap['basketItem'].price.original}}

								<div class="item-discounts" ng-show="shippingItemModel.basketItem.price.discounted">
									<div class="item-totalDiscount-value">-{{pickupItem.attributeMap['basketItem'].price.totalDiscount}}</div>
								</div>
							</div>
					</div>
					<div class="col-md-2 col-sm-2 col-xs-4">
						<div class="item-value total-value-item">{{pickupItem.attributeMap['basketItem'].price.subTotal}}</div>
					</div>
				</div>
			</div>
		</div>
			

		</div>
			<div class="ml-checkout-review-row">
			<div class="row">
				<div class="col-xs-12">
					<div class="ml-review-header" >
						Payment & Billing</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-4 col-sm-5 col-xs-12 ">
					<div class="ml-summary-group pull-left" ng-repeat="group in getStepSummary(1)">
						<div class="ml-summary-header">Billing Address</div>
						<div class="ml-summary-group-value" ng-repeat="item in group.values track by $index">
							{{item}}
						</div>
					</div>
					<div ng-click="toggleStepCollapse(4)" class="hidden-sm hidden-md hidden-lg pull-right">
						<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(4) && isStepCollapsed(4))">
							Edit</span>
					</div>		
				</div>
				<div  class="col-md-4 col-sm-5 col-xs-12">
					<div class="ml-summary-group" ng-repeat="group in getStepSummary(4)">
						<div class="ml-summary-header">Payment Method</div>
						<div class="ml-summary-group-value" ng-repeat="item in group.values track by $index">
							{{item}}
						</div>
					</div>
				</div>

				<div class="col-md-4 col-sm-2 col-xs-2 text-right hidden-xs">
					<div ng-click="toggleStepCollapse(4)">
						<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(4) && isStepCollapsed(4))">
							Edit</span>
					</div>					
				</div>
			</div>
		</div>
				
		</div>


    </form>
</div>

</div>
</li>
</ol><div  ng-show ="!isStepCollapsed(5)">
							<div class="ml-wm-rev-bottom-summaryorder">
							
								<div class="ml-accordion-annotations">
									<div class="ml-accordion-annotations-container">
										<div class="ml-accordion-summary-wrapper ">
<div class="ml-wm-rev-summary-header ">Order Summary</div>
<div class="ml-accordion-summary">
    <div class="ml-accordion-summary-group">
        <div class="ml-accordion-summary-item " ng-class="{'ml-summary-message': total.special}" ng-repeat="total in model.summary.subTotals">
            <div class="ml-accordion-summary-item-label" ng-if ="total.showAdditionalDetail">{{total.label}} <a href="#"  data-toggle="modal" data-target="#idPromoCodeDialog{{$index}}">See Details</a>
			<!-- WSUP-164 Description Content Here -->
			<div id="idPromoCodeDialog{{$index}}" class="modal fade" role="dialog">
			  <div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
				  <div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">{{total.label}}</h4>
				  </div>
				  <div class="modal-body">
					<p ng-bind-html='decodeSpecialCharToHtml(total.additionalDetail)'></p>
				  </div>
				</div>
			  </div>
			</div>
			<!-- WSUP-164 Description Content END Here --> 
			</div>
			<div class="ml-accordion-summary-item-label " ng-if ="total.showAdditionalDetail != true">{{total.label}}</div>
		    <div class="ml-accordion-summary-item-value">{{total.value}}</div>
			<div class="ml-accordion-summary-item-label">
			<div ng-if= "total.label === '*ESTIMATED SALES TAX'">
			 <div class="ml-help-icon">
					<a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content="Actual tax will be calculated when your order is processed. Tax may vary slightly from what is displayed here." data-trigger="focus" tabindex="-1" data-original-title="">Why Estimated<span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a>
				</div>
				<script>
					window.setTimeout('$("[data-toggle=popover]").popover()',3000);
				</script>
			</div>
			</div>
            <div class="ml-clear-fix"></div>
        </div>
    </div>
</div>
	<div class="ml-accordion-estimated-total">
		<div id="demo" style="display: none;"></div>
		<div class="ml-accordion-summary-item" ng-class="{'ml-summary-total': !total.special, 'ml-summary-message': total.special}" ng-repeat="total in model.summary.orderTotals">
			<div class="ml-accordion-summary-item-label">{{total.label}}</div>
			<div class="ml-accordion-summary-item-value">{{total.value}}</div>
		</div>
	</div>
	<div class="ml-accordion-summary-asteric" ng-show ="isStepCollapsed(5)">
		*Final shipping & tax calculated after the shipping step is completed
	</div>

	<div class="ml-checkout-review-button" ng-show ="!isStepCollapsed(5)">
		<input id="btnSubmitOrder"
		   name="SubmitOrder"
		   class="ml-button-submit-primary"
		   type="submit"
		   value='Place Order  '
		   ng-click="submitStep($event, 5)"/>
	 </div>

</div></div>				
								</div>
							</div>
							<div class="clearfix"></div>
							</div>
							

							<div class="row">
				      		<div class="ml-basket-container ml-chekout-norton-logo">
					      		<div class="ml-wm-custom-basket-norton">
						 			<div class="ml-custom-basket-norton">
						    			<div class="ml-wm-return-content">hassle-free returns</div>
						   				<div class="ml-wm-bsketstore-content">online &amp; at our 260+ stores</div>
						   				<div class="ml-wm-norton-image"><img src="/images/worldmarket/en_us/global/globalgraphics/norton.png" alt="norton"></div>
						 			</div>
					 			</div>
					 		</div>
					    </div>
				   </div>

				<div class="ml-accordion-annotations">
					<div class="ml-accordion-annotations-container">
						<div class="ml-accordion-summary-wrapper ">
<div class="ml-wm-rev-summary-header sgr">Order Summary</div>
<div class="ml-accordion-summary">
    <div class="ml-accordion-summary-group">
        <div class="ml-accordion-summary-item " ng-class="{'ml-summary-message': total.special}" ng-repeat="total in model.summary.subTotals">
            <div class="ml-accordion-summary-item-label" ng-if ="total.showAdditionalDetail">{{total.label}} <a href="#"  data-toggle="modal" data-target="#idPromoCodeDialogSummary_{{$index}}">See Details</a>
			<!-- WSUP-164 Description Content Here -->
			<div id="idPromoCodeDialogSummary_{{$index}}" class="modal fade" role="dialog">
			  <div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
				  <div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><img src="/images/worldmarket/en_us/global/globalgraphics/popup-cross.png" /></button>
					<h4 class="modal-title">{{total.label}}</h4>
				  </div>
				  <div class="modal-body">
					<p ng-bind-html='decodeSpecialCharToHtml(total.additionalDetail)'></p>
				  </div>
				</div>
			  </div>
			</div>
			<!-- WSUP-164 Description Content END Here --> 
			</div>
			<div class="ml-accordion-summary-item-label " ng-if ="total.showAdditionalDetail != true ">{{total.label}}
			</div>
            <div class="ml-accordion-summary-item-value">{{total.value}}</div>
			<div class="ml-accordion-summary-item-label">
			<div ng-if= "total.label === '*ESTIMATED SALES TAX'">
			 <div class="ml-help-icon">
					<a href="javascript:void(0);" data-toggle="popover" data-placement="top" title="" data-content="Actual tax will be calculated when your order is processed. Tax may vary slightly from what is displayed here." data-trigger="focus" tabindex="-1" data-original-title="">Why Estimated<span class="ml-icon-lib ml-icon-question ml-icon-fw"></span></a>
				</div>
				<script>
					window.setTimeout('$("[data-toggle=popover]").popover()',3000);
				</script>
			</div>
			</div>
            <div class="ml-clear-fix"></div>
			
			</div>
</div>
	<div class="ml-accordion-estimated-total">
		<div id="demo" style="display: none;"></div>
		<div class="ml-accordion-summary-item" ng-class="{'ml-summary-total': !total.special, 'ml-summary-message': total.special}" ng-repeat="total in model.summary.orderTotals">
			<div class="ml-accordion-summary-item-label" >{{total.label}}</div>
			<div class="ml-accordion-summary-item-value">{{total.value}}</div>
		</div>
	</div>
	<div class="ml-accordion-summary-asteric" ng-show ="isStepCollapsed(5)">
		*Final shipping & tax calculated after the shipping step is completed
	</div>

	<div class="ml-checkout-review-button" ng-show ="!isStepCollapsed(5)">
		<input id="btnSubmitOrder"
		   name="SubmitOrder"
		   class="ml-button-submit-primary"
		   type="submit"
		   value='Place Order  '
		   ng-click="submitStep($event, 5)"/>
	 </div>

</div><div ng-show ="isStepCollapsed(5)">
							<div class="ml-accordion-basket">
    <h2 class="ml-cart-summary-header"><span>CART SUMMARY</span><a class="ml-accordion-basket-edit" href="/basket.do">Edit</a>
    </h2>

	<span ng-click="toggleBasketSummary($event)" aria-expanded="true" class="glyphicon ml-icon ml-icon-minus ml-cart-summary-toggle" data-toggle="collapse" data-target="#cartSummary"></span>
	<div class="clearfix"></div>
  <div id="cartSummary" class="collapse in">
	
	<div class="ml-accordion-basket-items" ng-class="{'ml-accordion-basket-items-toggle': true}">
		<div class="ml-wm-instore-detail">
			<h5 ng-show = "model.shipping.shippableItems.length > 0">Items to Ship ({{model.shipping.shippableItems.length}})</h5>
		</div>
	
	   <div class="ml-accordion-shipment" ng-repeat="shipmentModel in model.shipping.shipments track by $index">
			 <div class="ml-shipping-method-types">
				<div class="ml-shipping-method-type " ng-repeat="option in shipmentModel.delivery.options">
					<span ng-show="shipmentModel.delivery.selectedOption == option.value">{{option.label.name}}</span>
				</div>
				<div class="ml-wm-shipping-method-type-selection" ng-show="$index < 1">
					<h2 ng-click="toggleStepCollapse(0)">
						<span class="ml-accordion-step-edit" ng-show="(isStepCompleted(0) && isStepCollapsed(0))">
							Edit</span>
					</h2>
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="ml-delivery-contact">
				<div ng-repeat="detail in shipmentModel.contact.details track by $index"><div ng-if="detail !='null'">{{detail}}</div></div>
			</div>

		   <div class="ml-accordion-basket-item" ng-repeat="shippingItemModel in shipmentModel.items">
			  <div class="ml-accordion-basket-item-container">
				<div class="ml-accordion-basket-selected-address">
					<div class="selected-address-name">{{shippingItemModel.selectedAddress}}</div>
				</div>
                <div class="ml-accordion-basket-item-img">
                    <div class="ml-accordion-img-thumb">
	                        <span ng-if="shippingItemModel.basketItem.image && shippingItemModel.basketItem.image.indexOf('_v') == -1">
								<img alt="{{shippingItemModel.basketItem.description}}" class="ml-responsive-thumbnail" ng-src="{{shippingItemModel.basketItem.image.replace('.tif','_v1.tif')}}">
							</span>
							<span ng-if="shippingItemModel.basketItem.image && shippingItemModel.basketItem.image.indexOf('_v') > -1">
								<img alt="{{shippingItemModel.basketItem.description}}" class="ml-responsive-thumbnail" ng-src="{{shippingItemModel.basketItem.image}}">
							</span>
                        </div>
                    </div>

                <div class="ml-accordion-basket-item-details">
                    <div class="item-desc">
							<span ng-bind-html="trustAsHtmlString(shippingItemModel.basketItem.description)"></span>
                        <div class="item-code">{{shippingItemModel.basketItem.code.label}} {{shippingItemModel.basketItem.code.value}}</div>
                    </div>

                    <div class="item-options">
                        <div ng-repeat="skuOption in shippingItemModel.basketItem.skuOptions">
                            <span>{{skuOption.label}}:</span>
                            <span>{{skuOption.value}}</span>
                        </div>
                    </div>

                    <div class="item-qty">
                        <div class="item-label">{{shippingItemModel.basketItem.qty.label}}</div>
                        <div class="item-value">{{shippingItemModel.basketItem.qty.value}}</div>
                    </div>

                    <div class="item-price">
                        <div ng-show="shippingItemModel.basketItem.price.free">
                            <div class="item-label">Unit Price:</div>
                            <div class="item-value">Free Gift</div>
                        </div>
                        <div ng-hide="shippingItemModel.basketItem.price.free">
                            <div class="item-label">Unit Price:</div>
                            <div class="item-value">{{shippingItemModel.basketItem.price.original}}</div>

                            <div class="item-discounts" ng-show="shippingItemModel.basketItem.price.discounted">
                                <div class="item-totalDiscount-label">Discount:</div>
                                <div class="item-totalDiscount-value">-{{shippingItemModel.basketItem.price.totalDiscount}}</div>
                            </div>

                            <div class="ml-wm-total-amount">
                           		 <div class="item-label">Total Price:</div>
                           		 <div class="item-value">{{shippingItemModel.basketItem.price.subTotal}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="item-discounts" ng-show="shippingItemModel.basketItem.discounts">
                        <div ng-repeat="discount in shippingItemModel.basketItem.discounts">
                            <div class="item-discount-label">{{discount.label}}</div>
                        </div>
                    </div>
                    <div class="ml-product-personalization" ng-show="shippingItemModel.basketItem.personalizations">
                        <div class="ml-product-personalization-header">Personalization:</div>
                        <div>
                            <div class="ml-product-personalization-link" ng-repeat="personalization in shippingItemModel.basketItem.personalizations">{{personalization.label}}:{{personalization.value}}</div>
                        </div>
                  </div>
             </div>
		 </div>
	 </div>
</div>
<div ng-repeat="storeToPickItemsFrom in model.pickupInStore.storesToPickItemsFrom" class="ml-checkout-instore-pickup-detail-box">
		<div class="ml-wm-instore-detail">
			<h5>Items to Pickup ({{storeToPickItemsFrom.pickupItems.length}})</h5>
			<div class="ml-checkout-instore-pickup-store-detail">
				<div class="ml-checkout-instore-pickup-store-name">{{storeToPickItemsFrom.name}}</div>
				<div>{{storeToPickItemsFrom.street1}}</div>
				<div>{{storeToPickItemsFrom.street2}}</div>
				<div>{{storeToPickItemsFrom.street3}}</div>
				<div>{{storeToPickItemsFrom.city}},&nbsp;{{storeToPickItemsFrom.state}}&nbsp;{{storeToPickItemsFrom.zipCode}}</div>
				<div>{{storeToPickItemsFrom.countryCode}}</div>
				<div>{{storeToPickItemsFrom.phone}}</div>
			</div>
		</div>
		<div class="ml-checkout-instore-pickup-who-pickup-detail" ng-if="!isEmpty(storeToPickItemsFrom.pickupContact.emailAddress)"> <h5>ORDER CONFIRMATION EMAIL:</h5>
			<div>{{storeToPickItemsFrom.pickupContact.emailAddress}}</div>
			<h5>PICKUP BY:</h5>
				<div>{{storeToPickItemsFrom.pickupContact.firstName}} {{storeToPickItemsFrom.pickupContact.lastName}}</div>
				<div>{{storeToPickItemsFrom.pickupContact.mobilePhone}}</div>
		</div>
		<div class="ml-checkout-instore-pickup-product-details">
			<div ng-repeat="pickupItem in storeToPickItemsFrom.pickupItems" class="ml-checkout-instore-pickup-product-box">
				<div class="ml-accordion-img-thumb"><img alt="{{pickupItem.productName}}" class="ml-responsive-thumbnail" ng-src="{{pickupItem.productThumbImage}}"></div>
				<div class="ml-checkout-instore-pickup-product-detail">
					<div class="ml-checkout-instore-pickup-product-name">{{pickupItem.productName}}</div>
					<div>{{pickupItem.skuCode}}</div>
					<div ng-repeat="skuOption in pickupItem.skuOptions">{{skuOption}}</div>
					<div class="ml-product-personalization" ng-show="pickupItem.personalizations">
						<div class="ml-product-personalization-header">Personalization:</div>
						<div>
							<div class="ml-product-personalization-link" ng-repeat="personalization in pickupItem.personalizations">{{personalization.label}}:{{personalization.value}}</div>
						</div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
		
        </div>
    </div>
  </div>
  </div></div>
						</div>
				</div>
			</div>
        </div>
    </div>
    </div>
<div class="ml-wm-checkout-copyright">
	<div class="row">
		<div class="col-sm-3 col-xs-12">
			<div>
				<img src="/images/worldmarket/en_us/global/globalnav/logo01.png" alt="logo">
			</div>
		</div>
		<div class="col-sm-9 col-xs-12">
			<p>&#169; 2017 Cost Plus World Market. All rights reserved. <a href="/category/customer-service/terms+of+use.do"> Terms of Use </a> <a href="/category/customer-service/privacy-and-security.do"> Privacy Policy</a></p>
		</div>
	</div>
</div>

<script type='text/javascript'>
var tmpfreeShipFlag='';
var tmpProdName='';
	
	var esignup='false';
	MarketLive.Reporting.dlGlobal.emailSignup=esignup;
		
		 var tmpShipMethod='Standard Ground';
		
				var tmpArr=[];
				
				tmpProdName='Black and Ivory Zigzag Woven Indoor Outdoor Lumbar Pillow';
				
				MarketLive.Reporting.dlGlobal.ensFreeShipFlag='false';
				
				MarketLive.Reporting.dlGlobal.ensFreeShipFlag='true';
				
			 tmpfreeShipFlag=MarketLive.Reporting.dlGlobal.ensFreeShipFlag;
			
						var ensTmplname="";
						ensTmplname=MarketLive.Reporting.dlGlobal.ensHtmlEntities(ensTmplname);
						
					
						var ensTmplname="Outdoor";
						ensTmplname=MarketLive.Reporting.dlGlobal.ensHtmlEntities(ensTmplname);
						
					
						var ensTmplname="Outdoor Cushions & Pillows";
						ensTmplname=MarketLive.Reporting.dlGlobal.ensHtmlEntities(ensTmplname);
						
					
						var ensTmplname="Outdoor Throw Pillows";
						ensTmplname=MarketLive.Reporting.dlGlobal.ensHtmlEntities(ensTmplname);
						
					
				tmpArr.push(ensTmplname);
			
			
			var prodCat=tmpArr;
			var bItemArr ={"name":tmpProdName,
			"freeShippingFlag":tmpfreeShipFlag,
			"shippingMethod":tmpShipMethod,
			"quantity":"1","price":"29.99","id":"74688","sku":"551527"};
			MarketLive.Reporting.dlGlobal.basketItemsArray.push(bItemArr);
		
	MarketLive.Reporting.dlGlobal.ensCartShipType="Ship";
 	MarketLive.Reporting.dlGlobal.customercode='ML_69496933';
	MarketLive.Reporting.dlGlobal.email='';
	MarketLive.Reporting.dlGlobal.JSESSIONID='5807EB0698E35B1E3AE62AD1283E2422.b2c-worldmarket-prdv162-app007';
	MarketLive.Reporting.dlGlobal.userFirstName='';
	MarketLive.Reporting.dlGlobal.userLastName='';
	MarketLive.Reporting.dlGlobal.userLastVisit='null';
	MarketLive.Reporting.dlGlobal.sourceIP='70.181.114.122';
	
		MarketLive.Reporting.dlGlobal.enswmeid='';
		
	MarketLive.Reporting.dlGlobal.storeName='Santa Ana (South Coast)';
	MarketLive.Reporting.dlGlobal.distanceFromStore='';
	MarketLive.Reporting.dlGlobal.status='guest';
	var ensRefList="";
	ensRefList=escape(ensRefList);
	MarketLive.Reporting.dlGlobal.referredFromArr.push(ensRefList);
	</script></div>
                </div>
    </div>
	</main>

<footer role="contentinfo">
    <!-- BEGIN Baynote code -->
	<script language="javascript" type="text/javascript">
	
	
	 jQuery(document).ready(function() {
		 var bncustomerId ="costplus";
   		var bncode = "world";
		var bnserver = '';
		var domain=".baynote.net";		
	      	if(window.location.href.indexOf("https://")==0){
			bnserver="https://"+bncustomerId+"-"+bncode+domain;
		}else{
			bnserver="http://"+bncustomerId+"-"+bncode+domain;
		}

   		BaynoteAPI.init({server: bnserver,customerId: bncustomerId,code: bncode});
   		BaynoteAPI.executeAll();
	    });
      		
	</script>
	<!-- END Baynote code -->
	
<div class="container">
    <div class="ml-footer">
        <div class="ml-footer-bottom">
            <div class="ml-footer-copyright">
                <div>&copy;2018World Market</div>
            </div>
            <div class="ml-footer-security">
                </div>
        </div>
    </div>
</div>

</footer>

<!-- WSUP-992 - ensMergeTypeFmSession - in Main.jsp:: -->
<!-- Data Layer checks Main.jsp - CHECKOUT -->
<!-- WSUP-992 - DL login AccountMerge related - in Main.jsp:: -->
<script type='text/javascript'>
	var tmpensAccountMergeType=MarketLive.Reporting.dlGlobal.ensAccountMergeType;
	if(tmpensAccountMergeType.length < 1){
		MarketLive.Reporting.dlGlobal.ensAccountMergeType='';
	}
		
	MarketLive.Reporting.dlGlobal.pType="checkout";
	
	MarketLive.Reporting.dlGlobal.ensloginSuccess='false';
	
	MarketLive.Reporting.dlGlobal.ensregSuccess='false';
		<!-- WMKT-874 Main.jsp: ensRegChkVar   & PEUSERChk=-->
		<!-- WMKT-977 Main.jsp: ensDLRegTypesss   -->
		</script><script type='text/javascript'>
console.log('**** DataLayer - Ensighten Reporting - Begin ****');
var ensRegnSucc=MarketLive.Reporting.dlGlobal.ensregSuccess;
var ensRegnType=MarketLive.Reporting.dlGlobal.ensregType;
var ensPEUserchk=MarketLive.Reporting.dlGlobal.ensPEUser;
var tmpCurl="https://www.worldmarket.com";
MarketLive.Reporting.dlGlobal.ensCanonicalTagURI=tmpCurl;
var pcats=MarketLive.Reporting.dlGlobal.prodCats;
var psubcats=MarketLive.Reporting.dlGlobal.prodSubCats;

var serverDate = MarketLive.Reporting.dlGlobal.serverDate;
var isProduction = MarketLive.Reporting.dlGlobal.isProduction;
var siteName = MarketLive.Reporting.dlGlobal.siteName;
var isMobile = MarketLive.Reporting.dlGlobal.isMobile;
var type=MarketLive.Reporting.dlGlobal.pType;
var basketArr=MarketLive.Reporting.dlGlobal.basketItemsArray;
var prodDirList=MarketLive.Reporting.dlGlobal.dirItemsArray;
var prodArrayHolder=prodDirList;
var cartShipType=MarketLive.Reporting.dlGlobal.ensCartShipType;
var cartShipArrayHolder=[];
var pageOrderObj='';
var tmpCurCatid='';



var pgName='';
var ensFormFieldErrArray=MarketLive.Reporting.dlGlobal.formFieldErrArray;

var ensProdCnt=String(MarketLive.Reporting.dlGlobal.prodCount);
var ensPageCnt=String(MarketLive.Reporting.dlGlobal.pageCount);


var pageFacetsArr=MarketLive.Reporting.dlGlobal.facetsNameValueArray;
//console.log('*****FINAL FACET VALUE array *****'+JSON.stringify(pageFacetsArr));


if(type=='basket' || type=='checkout' || type=='order confirmation'){
	
		prodArrayHolder=basketArr; 
		 // console.log('*****basket items array *****'+JSON.stringify(basketArr));
		 
		var tmpCartPromoCodesArr=MarketLive.Reporting.dlGlobal.cartPromoCodesArr;
		var cartOrderObj= 
		{
			"checkoutType":cartShipType,
			"promoCodes":tmpCartPromoCodesArr
		}
		if(tmpCartPromoCodesArr.length < 1) {
			delete cartOrderObj['promoCodes'];
		}
		pageOrderObj=cartOrderObj;
		//prodArrayHolder.push(tmpCartPromoCodesArr);
		
		if(type=='checkout' || type=='order confirmation'){
			var ensordercode=MarketLive.Reporting.dlGlobal.ordercode;
			if(typeof(ensordercode) !== 'undefined'){
			var ensordertotal=MarketLive.Reporting.dlGlobal.ordertotal;
			var ensorderproducts=MarketLive.Reporting.dlGlobal.orderproducts;
			var ensorderpromocodes=MarketLive.Reporting.dlGlobal.orderpromocodes;
			var ensorderItemSize=MarketLive.Reporting.dlGlobal.orderItemSize;
			//new elements
			var orderEnspaymentMethod=MarketLive.Reporting.dlGlobal.orderEnspaymentMethod;  
			var orderEnscustomerState=MarketLive.Reporting.dlGlobal.orderEnscustomerState;  
			var orderEnsdiscountAmount=MarketLive.Reporting.dlGlobal.orderEnsdiscountAmount;  
			var orderEnsgiftCardAmount=MarketLive.Reporting.dlGlobal.orderEnsgiftCardAmount; 
			var orderEnsgiftWrapAmount=MarketLive.Reporting.dlGlobal.orderEnsgiftWrapAmount; 
			var orderEnsshipAmount=MarketLive.Reporting.dlGlobal.orderEnsshippingAmount; 
			var orderEnsshipDiscAmnt=MarketLive.Reporting.dlGlobal.orderEnsshippingDiscountAmount; 
			var orderEnsstoreName=MarketLive.Reporting.dlGlobal.orderEnsstoreName; 
			var orderEnssubtotal=MarketLive.Reporting.dlGlobal.orderEnssubtotal; 
			var orderEnstaxAmount=MarketLive.Reporting.dlGlobal.orderEnstaxAmount;
			
				var ml_orderArr = {
					"checkoutType":cartShipType,
					"id":ensordercode,
					"subtotal":orderEnssubtotal, 
					"taxAmount":orderEnstaxAmount,
					"total":ensordertotal,
					"promoCodes":ensorderpromocodes,
					"orderItemSize":ensorderItemSize,
					"paymentMethod":orderEnspaymentMethod, 
					"customerState":orderEnscustomerState, 
					"discountAmount":orderEnsdiscountAmount, 
					"giftCardAmount":orderEnsgiftCardAmount, 
					"giftWrapAmount":orderEnsgiftWrapAmount,
					"shippingAmount":orderEnsshipAmount, 
					"shippingDiscountAmount":orderEnsshipDiscAmnt,
					"storeName":orderEnsstoreName 
				}
				 if(cartShipType =='Ship')
					 delete ml_orderArr['storeName'];
				 
				//cartShipArrayHolder.push(ml_orderArr);
				pageOrderObj=ml_orderArr;
				prodArrayHolder=ensorderproducts;
			}
		}
}	


switch(type) {
    case 'product':
        type='pdp';
        break;
	case 'search':
        type='search results';
        break;	
    case 'basket':
       type='shopping cart';
        break;
	case 'account':
       type='my account';
        break;	
    default:
        break;
}

if(type=='pla'){
	type='category';
	subtype='pla';	 
}
if(type=='gateway' || type=='category' || type=='pdp'){
	tmpCurCatid='';
	if(tmpCurCatid.length > 0){
		tmpCurCatid=String(tmpCurCatid);
	}
	if(type=='pdp' && tmpCurCatid.indexOf('worldmarket') !=-1){
		tmpCurCatid=MarketLive.Reporting.dlGlobal.ensCatId;
	}
}


var tmpCanUrl=MarketLive.Reporting.dlGlobal.ensCanonicalTagURI;

if(type=='gateway' || type=='category'){
	console.log('**** type ****'+type);
	pcats=MarketLive.Reporting.dlGlobal.prodCats;
	if( typeof(pcats) !== 'undefined'){
		console.log('**** 1 pcats ****'+pcats.length);
		if(pcats.length < 2){
			type='gateway';
			pcats=MarketLive.Reporting.dlGlobal.prodGwCats;	
			console.log('**** 2 pcats ****'+pcats.length);
			if(pcats.length < 2){
				pcats=MarketLive.Reporting.dlGlobal.prodCats;
				console.log('**** 3 pcats ****'+pcats.length);
			}
		}else{
			pcats=MarketLive.Reporting.dlGlobal.prodCats;
			console.log('**** 4 pcats ****'+pcats.length);
		}
		console.log('**** 5 pcats ****'+pcats.length);
	} 
	console.log('**** Final pcats ****'+JSON.stringify(pcats));
		
}


var storeName = MarketLive.Reporting.dlGlobal.storeName;
var associateId = MarketLive.Reporting.dlGlobal.associateStoreID;
var acntMergeType=MarketLive.Reporting.dlGlobal.ensAccountMergeType;
var distanceFromStore = MarketLive.Reporting.dlGlobal.distanceFromStore;
	if(distanceFromStore > 0)
		distanceFromStore=String(Math.round(distanceFromStore* 100) / 100);
var status = MarketLive.Reporting.dlGlobal.status;
var subtype=MarketLive.Reporting.dlGlobal.subtype;
var customerCode = MarketLive.Reporting.dlGlobal.customercode;
var bnExtUserId = MarketLive.Reporting.dlGlobal.customercode;
var ensEmail = MarketLive.Reporting.dlGlobal.email;
var jsessionid = MarketLive.Reporting.dlGlobal.JSESSIONID;
var userfirstName = MarketLive.Reporting.dlGlobal.userFirstName;
var userlastName = MarketLive.Reporting.dlGlobal.userLastName;
var userlastVisit = String(MarketLive.Reporting.dlGlobal.userLastVisit);
//set last visit to current date
if(typeof(userlastVisit) !== 'undefined' && userlastVisit.length < 8)
	userlastVisit=serverDate;


var ensHistPurchases=MarketLive.Reporting.dlGlobal.historicalPurchases;
var ensReferredFrom=MarketLive.Reporting.dlGlobal.referredFromArr;
var ensCGActive=MarketLive.Reporting.dlGlobal.customerGroupActiveArr;
var ensSourceCodes=MarketLive.Reporting.dlGlobal.sourceCodesArr;
var ensSourceIPs=MarketLive.Reporting.dlGlobal.sourceIP;
var enswmeid=MarketLive.Reporting.dlGlobal.enswmeid;
var ensSearchRedirectTerm=MarketLive.Reporting.dlGlobal.ensSearchRedirectTerm;
var ensMercTotal=MarketLive.Reporting.dlGlobal.merchTotal;
var ensBasketValue=MarketLive.Reporting.dlGlobal.basketValue;
var ensBasketCount=MarketLive.Reporting.dlGlobal.basketCount;

		
	if(type=='shopping cart' || type=='checkout' || type=='order confirmation'){
		if(ensBasketValue.length > 1)
			ensBasketValue=ensBasketValue.substr(1);
		if(ensMercTotal.length > 1)
			ensMercTotal=ensMercTotal.substr(1);
		var extBasketArr ={
			"merchTotal":ensMercTotal,
			"basketValue":ensBasketValue,
			"basketCount":ensBasketCount
		}
		//prodArrayHolder.push(extBasketArr);
	}
			if (typeof (enswmeid) !== 'undefined' && enswmeid.length > 0) {
			}else{
				
			}
var ml_userArr = {
	"WME":enswmeid,
	"email":ensEmail,
	"customercode":customerCode,
	"lastVisit":userlastVisit,
	"merchTotal":ensMercTotal,
	"basketValue":ensBasketValue,
	"basketCount":ensBasketCount,
	 "historicalPurchases":ensHistPurchases,
	 "referredFrom":ensReferredFrom,
	 "customergroupsactive":ensCGActive,
	 "sourcecodes":ensSourceCodes,
	 "sourceIP":ensSourceIPs, 
	 "JSESSIONID":jsessionid,
	 "userFirstName":userfirstName,
	 "userLastName":userlastName
 }

//WME award related data
var ensWmeRewardsVal=MarketLive.Reporting.dlGlobal.ensWmeRewards;
var ensWmeNextRewardVal=MarketLive.Reporting.dlGlobal.ensWmeNextReward;
var ensWmeStatusVal=MarketLive.Reporting.dlGlobal.ensWmeStatus;
			
			if (typeof (ensWmeStatusVal) !== 'undefined' && ensWmeStatusVal.length > 0) {
			}else{
				
			}
			if (typeof (ensWmeRewardsVal) !== 'undefined' && ensWmeRewardsVal.length > 0) {
			}else{
				
			}
			if (typeof (ensWmeNextRewardVal) !== 'undefined' && ensWmeNextRewardVal.length > 0) {
			}else{
				
			}
var ensloginFailure=MarketLive.Reporting.dlGlobal.ensloginFailure;
var ensloginSuccess=MarketLive.Reporting.dlGlobal.ensloginSuccess;	
 if(ensloginSuccess=='true' ){
	ensRegnType='existing';
	if(ensRegnSucc=='true'){
		 ensRegnType='new';
		 if(ensPEUserchk=='true'){
			ensRegnType='existing';
		}
	}

} 
var customerArr ={
		"accountMergeType":acntMergeType,
		"associateStoreID":associateId,
		"distanceFromStore":distanceFromStore,
		"status":status,
		"loginSuccess":ensloginSuccess,
		"registrationSuccess":ensRegnSucc,
		"registrationType":ensRegnType,
		"storeName":storeName,
		"wmeId":enswmeid,
		"wmeNextReward":ensWmeNextRewardVal,
	    "wmeRewards":ensWmeRewardsVal,
	    "wmeStatus":ensWmeStatusVal,
		"ml_user":ml_userArr
	}
 


if(type == 'my account'){
	var customerAcntArr ={
		"accountMergeType":acntMergeType,
		"associateStoreID":associateId,
		"distanceFromStore":distanceFromStore,
		"loginFailure":ensloginFailure,
		"loginSuccess":ensloginSuccess,
		"registrationSuccess":ensRegnSucc,
		"registrationType":ensRegnType,
		"status":status,
		"storeName":storeName,
		"wmeId":enswmeid,
		"wmeNextReward":ensWmeNextRewardVal,
	    "wmeRewards":ensWmeRewardsVal,
	    "wmeStatus":ensWmeStatusVal,
		"ml_user":ml_userArr
	}
	
	customerArr=customerAcntArr;
}
if(ensWmeRewardsVal.length < 1) {
	delete customerArr['wmeRewards'];
}
 if(type=='category'){
		
}

var pageCouponArr=MarketLive.Reporting.dlGlobal.pageCouponArray;
var couponCodePgArr ={
	"couponCodes":pageCouponArr 
}
 
if(type == 'pdp'){
			
	if(subtype.length < 1){
		subtype='single_sku';	
	}	
}
 
if(type=='category' || type=='gateway'){
		
 
}

if(type=='category' || type=='pdp'){
			
}


 //for content pages ,email signup
tmpCurl=window.location.href;

if (typeof (tmpCurl) !== 'undefined') {
			if(tmpCurl.indexOf('worldmarket.com') !=-1){
				isProduction='true';
			}
			if( (tmpCurl.indexOf('/ancillary/emailsignup') !=-1) || (tmpCurl.indexOf('/category/email-signup') !=-1)){
				type='email signup';
				pgName='form';
			}else if(tmpCurl.indexOf('/contactus/thankyou') !=-1){
				type='customer service';
				pgName='thank you';	
			}else if(tmpCurl.indexOf('/emailSignup/thankyou') !=-1){
				type='email signup';
				pgName='thank you';
			}else if( (tmpCurl.indexOf('/checkout/thankyou') !=-1) || (tmpCurl.indexOf('/checkout/accountsetup') !=-1)){
				type='order confirmation';
				pgName='thank you';
			}else if(tmpCurl.indexOf('/category/coupons') !=-1){
				type='coupons';
			}else if( (tmpCurl.indexOf('/content/') !=-1) || (tmpCurl.indexOf('/inspirations/') !=-1)){
				type='content '+MarketLive.Reporting.dlGlobal.ensContentType;
				subtype='';
			}else if(tmpCurl.indexOf('/gift-card-balance/') !=-1){
				type='customer service';
				pgName="gift card balance";
				subtype='';	
			}else if(tmpCurl.indexOf('/account/') !=-1){
				pgName="Account Home";
				if(tmpCurl.indexOf('/account/accountinfo') !=-1){
					pgName="My Information";
				}else if(tmpCurl.indexOf('/account/addressbook') !=-1){
					pgName="Address Book";
				}else if(tmpCurl.indexOf('/account/passwordrecoveryhint') !=-1){
					pgName='Password recovery hint';
					type="my account";
				}else if(tmpCurl.indexOf('/account/passwordrecovery') !=-1){
					pgName='Password recovery';
					type="my account";	
				}
				
				
				
			}else if(tmpCurl.indexOf('/accounts/wmeaccount') !=-1){
					pgName="register";
			}else if(tmpCanUrl.indexOf('/product/gift-card') !=-1){
					 subtype='giftcard';
			 
 			}	
}
var formErrObj='';
if(typeof(ensFormFieldErrArray) !== 'undefined' && ensFormFieldErrArray.length > 0){
	formErrObj=
			 {
			 "errorFields":ensFormFieldErrArray
			 }
}


var pageArr = {
	"isProduction":isProduction,
	"serverDate":serverDate,
	"siteName":siteName,
	"type":type,
	"name":pgName,
	"subtype":subtype,
	"categoryId":tmpCurCatid,
	"productCategories":pcats,
	"searchRedirectTerm":ensSearchRedirectTerm,
	"subCategories":psubcats,
	"couponCodes":pageCouponArr
}
if(type=='checkout' || type=='order confirmation' || type=='content' || type=='customer service' || type=='email signup' ){
	if(type=='content' && MarketLive.Reporting.dlGlobal.dirItemsArray.length > 1){
	}else{
		if(type.indexOf('shopping') !=-1){
		}else{
			delete pageArr['productCategories'];
		}
	}
}

if(type=='coupons' || type=='content' || tmpCurCatid.length < 1 || tmpCurl.indexOf('/emailSignup/thankyou') !=-1 || tmpCurCatid.indexOf('worldmarket') !=-1 || type=='customer service') {
	if(type=='content' && MarketLive.Reporting.dlGlobal.dirItemsArray.length > 1){
		prodArrayHolder=MarketLive.Reporting.dlGlobal.dirItemsArray;
	}else{
		if(type.indexOf('shopping') !=-1){
		}else{
			delete pageArr['categoryId'];
		}
	}
}
if(type=='shopping cart') {
	delete pageArr['subtype'];
}
if(pgName.length < 1) 
		delete pageArr['name'];
	
if(ensSearchRedirectTerm.length < 1) 
		delete pageArr['searchRedirectTerm'];	
	
if(pageCouponArr.length < 1) 
		delete pageArr['couponCodes'];
//clean up as per new version doc	
if(type=='home page' || type=='gateway' || type=='search' || type=='search results'){
	delete pageArr['searchRedirectTerm'];
	if(type=='home page' || type=='gateway'){
		delete pageArr['subtype'];
		if(type=='gateway'){
			delete pageArr['subCategories'];
		}
	}
}
if(tmpCurl.indexOf('/content/') !=-1){
	if(type.indexOf('shopping') !=-1){
	}else{
		delete pageArr['categoryId'];
		delete pageArr['productCategories'];
	}
}
if(tmpCurl.indexOf('/inspirations/') !=-1 || tmpCurl.indexOf('/email-signup') !=-1){
	delete pageArr['categoryId'];
}	

if(type=='category'){
	delete pageArr['subtype'];
}
if(pcats.length < 1 || type=='shopping cart' || type=='pdp' || type=='search' || type=='search results') {
	if(subtype !=='pla')
		delete pageArr['productCategories'];
}
if(psubcats.length < 1 || type=='shopping cart' || type=='pdp') {
	delete pageArr['subCategories'];
}

if(type=='pdp') {
	prodArrayHolder=MarketLive.Reporting.dlGlobal.ensPDPSkusArray;
	if(subtype=='pla' && prodDirList.length > 1){
		var placoncat=prodArrayHolder.concat(prodDirList);
		prodArrayHolder=placoncat;
	}

}
if(tmpCurl.indexOf('/search') !=-1){
	
}
var ensItemCnt ={
	"totalResults":ensProdCnt,
	"facets":pageFacetsArr,
	"currentPage":ensPageCnt
}
 if(pageFacetsArr.length < 1)
 {
	ensItemCnt =
	{
	"totalResults":ensProdCnt,
	"currentPage":ensPageCnt
	}
} 
 
var pageData =
{
	"customer":customerArr,
	"form":formErrObj,
	"order":pageOrderObj,
    "page":pageArr,
	"productList":ensItemCnt,
	"products":prodArrayHolder
}

if(type=='coupons' || type=='error' || prodArrayHolder.length < 1) {
	delete pageData['products'];
}

if(type !='shopping cart' && (type !='checkout' && type!='order confirmation')) {
	delete pageData['order'];
}
 
if(ensProdCnt < 1) {
	delete pageData['productList'];
}
if(formErrObj.length < 1) {
	delete pageData['form'];
}
  
console.log(JSON.stringify(pageData));
console.log('**** DataLayer - Ensighten Reporting - End ****');
</script><script type="text/javascript">
    window.MarketLive = window.MarketLive || {};
    MarketLive.Reporting = MarketLive.Reporting || {};
    MarketLive.Reporting.templateType = '';
</script>
<script type='text/javascript' src='/wro/a8c586b6703fd1052d259042a7193e3f/FOOTER.js?minimize=true'></script><script type='text/javascript' src='/wro/217ebac9764ad132ed507209e814c22c/P2P.js?minimize=true'></script><script type='text/javascript' src='/wro/ce10376258ebfa6acbfca4eab043455a/CHECKOUT.js?minimize=true'></script><script type='text/javascript'>
    window.MarketLive = window.MarketLive || {};
    MarketLive.Base = MarketLive.Base || {};
    MarketLive.Base.section = 'CHECKOUT';
</script><script>
function addressChanged() {
	jQuery("#isAddressChanged").val("true");
}
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script>
/*jQuery(document).ready(function(){
    jQuery('[data-toggle="popover"]').popover(); 
});*/

function addressChanged() {
	jQuery("#isAddressChanged").val("true");
}
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script>
/*jQuery(document).ready(function(){
    jQuery('[data-toggle="popover"]').popover(); 
});*/

function addressChanged() {
	jQuery("#isAddressChanged").val("true");
}
</script><script>
/*jQuery(document).ready(function(){
    jQuery('[data-toggle="popover"]').popover(); 
});*/

function addressChanged() {
	jQuery("#isAddressChanged").val("true");
}
</script><script>
    $('.ml-modal').on('hidden.bs.modal', function (e) {
		e.preventDefault();
		e.stopPropagation();
		/**** Fixing WMKT-766
		var selector = "#" + $(this).attr('id');
		if(selector != undefined){
			$('[data-target="' + selector + '"]').focus();        
		}
		****/
   });   
</script><script src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.1/angular-sanitize.min.js'></script><script type='text/javascript'>
	if(MarketLive.Base.isExtraSmall()){
		jQuery("span[data-target='#cartSummary']").trigger("click").toggleClass("ml-icon-plus ml-icon-minus");
		jQuery(".ml-accordion-basket-edit").hide();
	}
  </script></div>

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"errorBeacon":"bam.nr-data.net","licenseKey":"a6621ab2dd","agent":"","beacon":"bam.nr-data.net","applicationTime":171,"applicationID":"45912793","transactionName":"bwNUY0MAXkUHUkxYCVZJZUdDCF5RJV5WRRRXClpSQ05neydSW14UXA9ZWXIOXkIUXlRdA0pJQF5UFg==","queueTime":0}</script></body>
</html>